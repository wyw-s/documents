(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{1e3:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"can-t-start-server-can-t-check-pid-filepath-no-such-file-or-directory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#can-t-start-server-can-t-check-pid-filepath-no-such-file-or-directory"}},[s._v("#")]),s._v(" "),a("code",[s._v("Can't start server: can't check PID filepath: No such file or directory")])]),s._v(" "),a("blockquote",[a("p",[s._v("我出现这种错误的原因是由于服务器强制关机，导致的。或许还有其他的情况导致的，在这里先记录一下。")])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("出错原因： 一般是由于服务器强制关机导致pid文件丢失。")])]),s._v(" "),a("li",[a("p",[s._v("错误重现：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动Mysql")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld start\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 错误信息： Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (111)")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("其实一开始的报错是上面这样的，但是在网上找不到确切的解决办法。")])]),s._v(" "),a("li",[a("p",[s._v("查看错误日志；")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /var/log/mysqld.log\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看错误日志里面会有一句这样的错误信息；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ERROR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Can"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t start server: can'")]),s._v("t check PID filepath: No such "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 告诉我们没有PID文件或目录；")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("解决：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("在/etc/my.cnf 中查看pid-file的位置 ，")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/my.cnf\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 我的：pid-file=/var/run/mysqld/mysqld.pid")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("创建对应的目录并修改权限 ，")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /var/run/mysqld\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" mysql.mysql /var/run/mysqld\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这时可以尝试重启mysql了，如果还不行继续第三步")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZbp156pkpio44mis76wmxZ mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# service mysqld start")]),s._v("\nStarting mysqld "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("via systemctl"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":                           "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("  OK  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZbp156pkpio44mis76wmxZ mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("创建一个pid文件并修改权限 .")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("下面的这种的方式没有实践过")]),s._v("。")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" /var/run/mysql/mysqld.pid\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" mysql.mysql /var/run/mysql/mysqld.pid\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再启动MySQL应该就没问题了。")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])]),s._v(" "),a("p",[s._v("原文地址：https://blog.csdn.net/qq_31977125/article/details/84318745")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);