(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{741:function(s,a,t){"use strict";t.r(a);var n=t(1),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("当运行容器时，使用的镜像如果在本地中不存在，docker 就会自动从 docker 镜像仓库中下载，默认是从 Docker Hub 公共镜像源下载。")])]),s._v(" "),t("h2",{attrs:{id:"查看本机镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看本机镜像"}},[s._v("#")]),s._v(" 查看本机镜像")]),s._v(" "),t("blockquote",[t("p",[s._v("我们可以使用 "),t("strong",[s._v("docker images")]),s._v(" 来列出本地主机上的镜像。")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("wangyawei@yaweidediannao:/mnt/c/Users/ASUS$ docker images\nREPOSITORY               TAG       IMAGE ID       CREATED        SIZE\nubuntu                   latest    7e0aa2d69a15   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" weeks ago    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v(".7MB\ndocker/getting-started   latest    3ba8f2ff0727   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" months ago   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(".9MB\nhello-world              latest    d1165f221234   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" months ago   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(".3kB\nubuntu                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.10")]),s._v("     9b9cb95443b5   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" years ago    137MB\ntraining/webapp          latest    6fae60ef3446   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" years ago    349MB\nwangyawei@yaweidediannao:/mnt/c/Users/ASUS$\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("各个选项说明:")]),s._v(" "),t("ul",[t("li",[s._v("**REPOSITORY：**表示镜像的仓库源")]),s._v(" "),t("li",[s._v("**TAG：**镜像的标签")]),s._v(" "),t("li",[s._v("**IMAGE ID：**镜像ID")]),s._v(" "),t("li",[s._v("**CREATED：**镜像创建时间")]),s._v(" "),t("li",[s._v("**SIZE：**镜像大小")])]),s._v(" "),t("p",[s._v("同一仓库源可以有多个 TAG，代表这个仓库源的不同个版本，如 ubuntu 仓库源里，有 15.10、14.04 等多个不同的版本，我们使用 REPOSITORY:TAG 来定义不同的镜像。")]),s._v(" "),t("p",[s._v("所以，我们如果要使用版本为15.10的ubuntu系统镜像来运行容器时，命令如下：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("wangyawei@yaweidediannao:/mnt/c/Users/ASUS$ docker run -t -i ubuntu:15.10 /bin/bash\nroot@7a90e165a7c9:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nbin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var\nroot@7a90e165a7c9:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("参数说明：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-i")]),s._v(": 交互式操作。")]),s._v(" "),t("li",[t("strong",[s._v("-t")]),s._v(": 终端。")]),s._v(" "),t("li",[t("strong",[s._v("ubuntu:15.10")]),s._v(": 这是指用 ubuntu 15.10 版本镜像为基础来启动容器。")]),s._v(" "),t("li",[t("strong",[s._v("/bin/bash")]),s._v("：放在镜像名后的是命令，这里我们希望有个交互式 Shell，因此用的是 /bin/bash。")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("如果你不指定一个镜像的版本标签，例如你只使用 ubuntu，docker 将默认使用 ubuntu:latest 镜像。")])]),s._v(" "),t("h2",{attrs:{id:"获取新镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取新镜像"}},[s._v("#")]),s._v(" 获取新镜像")]),s._v(" "),t("blockquote",[t("p",[s._v("当我们在本地主机上使用一个不存在的镜像时 Docker 就会自动下载这个镜像。如果我们想预先下载这个镜像，我们可以使用 docker pull 命令来下载它。")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("wangyawei@yaweidediannao:/mnt/c/Users/ASUS$ docker pull ubuntu:13.10\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.10")]),s._v(": Pulling from library/ubuntu\nImage docker.io/library/ubuntu:13.10 uses outdated schema1 manifest format. Please upgrade to a schema2 image "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" better future compatibility. More information at https://docs.docker.com/registry/spec/deprecated-schema-v1/\na3ed95caeb02: Pull complete\n0d8710fc57fd: Pull complete\n5037c5cd623d: Pull complete\n83b53423b49f: Pull complete\ne9e8bd3b94ab: Pull complete\n7db00e6b6e5e: Pull complete\nDigest: sha256:403105e61e2d540187da20d837b6a6e92efc3eb4337da9c04c191fb5e28c44dc\nStatus: Downloaded newer image "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" ubuntu:13.10\ndocker.io/library/ubuntu:13.10\nwangyawei@yaweidediannao:/mnt/c/Users/ASUS$\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[s._v("下载完成后，我们可以直接使用这个镜像来运行容器。")]),s._v(" "),t("h2",{attrs:{id:"查找镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查找镜像"}},[s._v("#")]),s._v(" 查找镜像")]),s._v(" "),t("blockquote",[t("p",[s._v("我们可以从 Docker Hub 网站来搜索镜像，Docker Hub 网址为： "),t("strong",[s._v("https://hub.docker.com/")]),s._v("，我们也可以使用 docker search 命令来搜索镜像。比如我们需要一个 httpd 的镜像来作为我们的 web 服务。我们可以通过 docker search 命令搜索 httpd 来寻找适合我们的镜像。")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("wangyawei@yaweidediannao:/mnt/c/Users/ASUS$ docker search httpd\nNAME                                    DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED\nhttpd                                   The Apache HTTP Server Project                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3529")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ncentos/httpd-24-centos7                 Platform "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" running Apache httpd "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v(" or bui…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\ncentos/httpd                                                                            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v("                   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\narm32v7/httpd                           The Apache HTTP Server Project                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\nsalim1983hoop/httpd24                   Dockerfile running apache config                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nsolsson/httpd-openidc                   mod_auth_openidc on official httpd image, ve…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nhypoport/httpd-cgi                      httpd-cgi                                       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\npublici/httpd                           httpd:latest                                    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nclearlinux/httpd                        httpd HyperText Transfer Protocol "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HTTP"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ser…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\njonathanheilmann/httpd-alpine-rewrite   httpd:alpine with enabled mod_rewrite           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nlead4good/httpd-fpm                     httpd server "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" connects via fcgi proxy h…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndockerpinata/httpd                                                                      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nmanageiq/httpd                          Container with httpd, built on CentOS "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" Ma…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ninanimate/httpd-ssl                     A play container with httpd, ssl enabled, an…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ndariko/httpd-rproxy-ldap                Apache httpd reverse proxy with LDAP authent…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ncentos/httpd-24-centos8                                                                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nappertly/httpd                          Customized Apache HTTPD that uses a PHP-FPM …   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\namd64/httpd                             The Apache HTTP Server Project                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ne2eteam/httpd                                                                           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nmanageiq/httpd_configmap_generator      Httpd Configmap Generator                       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ntrollin/httpd                                                                           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nmanasip/httpd                                                                           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nysli/httpd                              Httpd "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" DeepWeb                               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nitsziget/httpd24                        Extended HTTPD Docker image based on the off…   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ninterlutions/httpd                      httpd docker image with debian-based config …   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OK"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nwangyawei@yaweidediannao:/mnt/c/Users/ASUS$\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])]),t("p",[t("strong",[s._v("NAME:")]),s._v(" 镜像仓库源的名称")]),s._v(" "),t("p",[t("strong",[s._v("DESCRIPTION:")]),s._v(" 镜像的描述")]),s._v(" "),t("p",[t("strong",[s._v("OFFICIAL:")]),s._v(" 是否 docker 官方发布")]),s._v(" "),t("p",[t("strong",[s._v("stars:")]),s._v(" 类似 Github 里面的 star，表示点赞、喜欢的意思。")]),s._v(" "),t("p",[t("strong",[s._v("AUTOMATED:")]),s._v(" 自动构建。")]),s._v(" "),t("h2",{attrs:{id:"拉取镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拉取镜像"}},[s._v("#")]),s._v(" 拉取镜像")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("wangyawei@yaweidediannao:/mnt/c/Users/ASUS$  docker pull httpd\nUsing default tag: latest\nlatest: Pulling from library/httpd\n69692152171a: Pull complete\n7284b4e0cc7b: Pull complete\n3678b2d55ccd: Pull complete\naeb67982a725: Pull complete\n06954f8169fd: Pull complete\nDigest: sha256:48bae0ac5d0d75168f1c1282c0eb21b43302cb1b5c5dc9fa3b4a758ccfb36fe9\nStatus: Downloaded newer image "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" httpd:latest\ndocker.io/library/httpd:latest\nwangyawei@yaweidediannao:/mnt/c/Users/ASUS$ docker run httpd\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("下载完成后，我们就可以使用这个镜像了。")]),s._v(" "),t("h2",{attrs:{id:"创建镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建镜像"}},[s._v("#")]),s._v(" 创建镜像")]),s._v(" "),t("p",[s._v("当我们从 docker 镜像仓库中下载的镜像不能满足我们的需求时，我们可以通过以下两种方式对镜像进行更改。")]),s._v(" "),t("ul",[t("li",[s._v("1、从已经创建的容器中更新镜像，并且提交这个镜像")]),s._v(" "),t("li",[s._v("2、使用 Dockerfile 指令来创建一个新的镜像")])]),s._v(" "),t("h3",{attrs:{id:"更新镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更新镜像"}},[s._v("#")]),s._v(" 更新镜像")]),s._v(" "),t("p",[s._v("更新镜像之前，我们需要使用镜像来创建一个容器。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("wangyawei@yaweidediannao:/mnt/c/Users/ASUS$ docker run -t -i ubuntu:15.10 /bin/bash\nroot@f601f176aa29:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# apt-get update")]),s._v("\nIgn http://archive.ubuntu.com wily InRelease\nIgn http://archive.ubuntu.com wily-updates InRelease\nIgn http://archive.ubuntu.com wily-security InRelease\nIgn http://archive.ubuntu.com wily Release.gpg\nIgn http://archive.ubuntu.com wily-updates Release.gpg\nIgn http://archive.ubuntu.com wily-security Release.gpg\nIgn http://archive.ubuntu.com wily Release\nIgn http://archive.ubuntu.com wily-updates Release\nIgn http://archive.ubuntu.com wily-security Release\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("使用"),t("code",[s._v("docker ps -a")]),s._v("找到创建的容器的id。我们可以通过命令 docker commit 来提交容器副本。")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("wangyawei@yaweidediannao:/mnt/c/Users/ASUS$ docker commit -m"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"has update"')]),s._v(" -a"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"runoob"')]),s._v("  f601f176aa29 runoob/ubuntu:v2\nsha256:3a9b73618178c6f0ce4ec1c287de0787b84fddedfa3eff058af358723b3b19e9\nwangyawei@yaweidediannao:/mnt/c/Users/ASUS$\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("各个参数说明：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-m:")]),s._v(" 提交的描述信息")]),s._v(" "),t("li",[t("strong",[s._v("-a:")]),s._v(" 指定镜像作者")]),s._v(" "),t("li",[s._v("**e218edb10161：**容器 ID")]),s._v(" "),t("li",[t("strong",[s._v("runoob/ubuntu:v2:")]),s._v(" 指定要创建的目标镜像名")])]),s._v(" "),t("p",[s._v("我们可以使用 "),t("strong",[s._v("docker images")]),s._v(" 命令来查看我们的新镜像 "),t("strong",[s._v("runoob/ubuntu:v2")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("wangyawei@yaweidediannao:/mnt/c/Users/ASUS$ docker images\nREPOSITORY               TAG       IMAGE ID       CREATED         SIZE\nrunoob/ubuntu            v2        3a9b73618178   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" minutes ago   137MB "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此处")]),s._v("\nhttpd                    latest    39c2d1c93266   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" days ago     138MB\nubuntu                   latest    7e0aa2d69a15   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" weeks ago     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v(".7MB\ndocker/getting-started   latest    3ba8f2ff0727   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" months ago    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(".9MB\nhello-world              latest    d1165f221234   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" months ago    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(".3kB\nubuntu                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.10")]),s._v("     9b9cb95443b5   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" years ago     137MB\ntraining/webapp          latest    6fae60ef3446   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" years ago     349MB\nubuntu                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.10")]),s._v("     7f020f7bf345   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" years ago     185MB\nwangyawei@yaweidediannao:/mnt/c/Users/ASUS$\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("使用我们的新镜像 "),t("strong",[s._v("runoob/ubuntu")]),s._v(" 来启动一个容器")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("wangyawei@yaweidediannao:/mnt/c/Users/ASUS$ docker run -t -i runoob/ubuntu:v2 /bin/bash\nroot@28c174d9b40f:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nbin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var\nroot@28c174d9b40f:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"构建镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#构建镜像"}},[s._v("#")]),s._v(" 构建镜像")]),s._v(" "),t("blockquote",[t("p",[s._v("我们使用命令 "),t("strong",[s._v("docker build")]),s._v(" ， 从零开始来创建一个新的镜像。为此，我们需要创建一个 Dockerfile 文件，其中包含一组指令来告诉 Docker 如何构建我们的镜像。")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("wangyawei@yaweidediannao:/mnt/c/Users/ASUS$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" Dockerfile\nFROM    centos:7\nMAINTAINER      Fisher "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fisher@sudops.com"')]),s._v("\nRUN     "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"runoob"')]),s._v("\nRUN     /bin/echo "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'runoob:123456'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("chpasswd\nRUN     /bin/echo -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"LANG='),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v("en_US.UTF-8"),t("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/etc/default/local\nEXPOSE  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\nEXPOSE  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\nCMD     /usr/sbin/sshd -D\nwangyawei@yaweidediannao:/mnt/c/Users/ASUS$\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("blockquote",[t("p",[s._v("每一个指令都会在镜像上创建一个新的层，每一个指令的"),t("strong",[s._v("前缀都必须是大写")]),s._v("的。")]),s._v(" "),t("p",[s._v("第一条FROM，指定使用哪个镜像源")]),s._v(" "),t("p",[s._v("RUN 指令告诉docker 在镜像内执行命令，安装了什么。。。")])]),s._v(" "),t("p",[s._v("构建镜像；")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("wangyawei@yaweidediannao:~/test$ docker build -t runoob/centos:7 "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("+"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Building "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v(".4s "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("/8"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" FINISHED\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("internal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" load build definition from Dockerfile                                                                                                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".1s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" transferring dockerfile: 286B                                                                                                                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".0s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("internal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" load .dockerignore                                                                                                                      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".0s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" transferring context: 2B                                                                                                                        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".0s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("internal"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" load metadata "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" docker.io/library/centos:7                                                                                           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(".9s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" FROM docker.io/library/centos:7@sha256:0f4ec88e21daf75124b8a9e5ca03c37a5e937e0e108a255d890492430789b60e                                     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(".5s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" resolve docker.io/library/centos:7@sha256:0f4ec88e21daf75124b8a9e5ca03c37a5e937e0e108a255d890492430789b60e                                      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".0s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" sha256:0f4ec88e21daf75124b8a9e5ca03c37a5e937e0e108a255d890492430789b60e "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".20kB / "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".20kB                                                         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".0s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" sha256:e4ca2ed0202e76be184e75fb26d14bf974193579039d5573fb2348664deef76e 529B / 529B                                                             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".0s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" sha256:8652b9f0cb4c0599575e5a003f5906876e10c1ceb2ab9fe1786712dac14a50cf "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".75kB / "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".75kB                                                         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".0s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("76")]),s._v(".10MB / "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("76")]),s._v(".10MB                                                       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(".6s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" extracting sha256:2d473b07cdd5f0912cd6f1a703352c82b512407db6b05b43f2553732b55df3bc                                                              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".6s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("/4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" RUN     "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"runoob"')]),s._v("                                                                                                                     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".6s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("/4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" RUN     /bin/echo "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'runoob:123456'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("chpasswd                                                                                                  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".6s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("/4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" RUN     /bin/echo -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"LANG="')]),s._v("en_US.UTF-8"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("/etc/default/local                                                                                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".5s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" exporting to image                                                                                                                                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".1s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" exporting layers                                                                                                                                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".1s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" writing image sha256:bfc14340e7fa9da9a815afcc55a7d7c5d3a661965f1d693fe84468fab99b5739                                                           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".0s\n "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" naming to docker.io/runoob/centos:7                                                                                                             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".0s\n\nUse "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'docker scan'")]),s._v(" to run Snyk tests against images to "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" vulnerabilities and learn how to fix them\nwangyawei@yaweidediannao:~/test$ docker images\nREPOSITORY               TAG       IMAGE ID       CREATED          SIZE\nrunoob/centos            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("         bfc14340e7fa   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v(" seconds ago   204MB "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建的镜像")]),s._v("\nrunoob/ubuntu            v2        3a9b73618178   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(" minutes ago   137MB\nhttpd                    latest    39c2d1c93266   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" days ago      138MB\nubuntu                   latest    7e0aa2d69a15   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" weeks ago      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v(".7MB\ndocker/getting-started   latest    3ba8f2ff0727   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" months ago     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(".9MB\nhello-world              latest    d1165f221234   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" months ago     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(".3kB\nubuntu                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.10")]),s._v("     9b9cb95443b5   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" years ago      137MB\ntraining/webapp          latest    6fae60ef3446   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" years ago      349MB\nubuntu                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.10")]),s._v("     7f020f7bf345   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" years ago      185MB\nwangyawei@yaweidediannao:~/test$\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br")])]),t("p",[s._v("参数说明：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-t")]),s._v(" ：指定要创建的目标镜像名")]),s._v(" "),t("li",[t("strong",[s._v(".")]),s._v(" ：Dockerfile 文件所在目录，可以指定Dockerfile 的绝对路径")])]),s._v(" "),t("h3",{attrs:{id:"创建容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建容器"}},[s._v("#")]),s._v(" 创建容器")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("wangyawei@yaweidediannao:~/test$ docker run -t -i runoob/centos:7  /bin/bash\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@1b9dbb4f6ced /"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nanaconda-post.log  bin  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@1b9dbb4f6ced /"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"设置镜像标签"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置镜像标签"}},[s._v("#")]),s._v(" 设置镜像标签")]),s._v(" "),t("blockquote",[t("p",[s._v("我们可以使用 docker tag 命令，为镜像添加一个新的标签。")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("wangyawei@yaweidediannao:~/test$ docker tag bfc14340e7fa runoob/centos:dev\nwangyawei@yaweidediannao:~/test$ docker images\nREPOSITORY               TAG       IMAGE ID       CREATED          SIZE\nrunoob/centos            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("         bfc14340e7fa   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" minutes ago    204MB  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 老标签")]),s._v("\nrunoob/centos            dev       bfc14340e7fa   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" minutes ago    204MB  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新标签")]),s._v("\nrunoob/ubuntu            v2        3a9b73618178   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("51")]),s._v(" minutes ago   137MB\nhttpd                    latest    39c2d1c93266   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" days ago      138MB\nubuntu                   latest    7e0aa2d69a15   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" weeks ago      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v(".7MB\ndocker/getting-started   latest    3ba8f2ff0727   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" months ago     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(".9MB\nhello-world              latest    d1165f221234   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" months ago     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(".3kB\nubuntu                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.10")]),s._v("     9b9cb95443b5   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" years ago      137MB\ntraining/webapp          latest    6fae60ef3446   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" years ago      349MB\nubuntu                   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.10")]),s._v("     7f020f7bf345   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" years ago      185MB\nwangyawei@yaweidediannao:~/test$\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);