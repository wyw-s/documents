(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{772:function(s,a,t){"use strict";t.r(a);var n=t(1),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("Docker 允许你在容器内运行应用程序， 使用 "),t("strong",[s._v("docker run")]),s._v(" 命令来在容器内运行一个应用程序。")])]),s._v(" "),t("h2",{attrs:{id:"输出hello-world"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#输出hello-world"}},[s._v("#")]),s._v(" 输出hello world")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("PS C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ASUS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" docker run ubuntu:15.10 /bin/echo "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello world"')]),s._v("\nUnable to "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" image "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ubuntu:15.10'")]),s._v(" locally\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.10")]),s._v(": Pulling from library/ubuntu\n7dcf5a444392: Pull complete\n759aa75f3cee: Pull complete\n3fa871dc8a2b: Pull complete\n224c42ae46e7: Pull complete\nDigest: sha256:02521a2d079595241c6793b2044f02eecf294034f31d6e235ac4b2b54ffc41f3\nStatus: Downloaded newer image "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" ubuntu:15.10\nHello world\nPS C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ASUS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("各个参数解析：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("docker:")]),s._v(" Docker 的二进制执行文件。")]),s._v(" "),t("li",[t("strong",[s._v("run:")]),s._v(" 与前面的 docker 组合来运行一个容器。")]),s._v(" "),t("li",[t("strong",[s._v("ubuntu:15.10")]),s._v(" 指定要运行的镜像，"),t("strong",[s._v("Docker 首先从本地主机上查找镜像是否存在")]),s._v("，如果不存在，Docker 就会从镜像仓库 Docker Hub 下载公共镜像。")]),s._v(" "),t("li",[t("strong",[s._v('/bin/echo "Hello world":')]),s._v(" 在启动的容器里执行的命令")])]),s._v(" "),t("blockquote",[t("p",[s._v('以上命令完整的意思可以解释为：Docker 以 ubuntu15.10 镜像创建一个新容器，然后在容器里执行 bin/echo "Hello world"，然后输出结果。')])]),s._v(" "),t("h2",{attrs:{id:"交互式的容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#交互式的容器"}},[s._v("#")]),s._v(" 交互式的容器")]),s._v(" "),t("blockquote",[t("p",[s._v('我们通过 docker 的两个参数 -i -t，让 docker 运行的容器实现**"对话"**的能力：')])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("PS C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ASUS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" docker run -i -t ubuntu:15.10 /bin/bash\nroot@8a725ffa2d7b:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("各个参数解析：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-t:")]),s._v(" 在新容器内指定一个伪终端或终端。")]),s._v(" "),t("li",[t("strong",[s._v("-i:")]),s._v(" 允许你对容器内的标准输入 (STDIN) 进行交互。")])]),s._v(" "),t("blockquote",[t("p",[s._v("注意第二行 "),t("strong",[s._v("root@8a725ffa2d7b:/#")]),s._v("，此时我们已进入一个 ubuntu15.10 系统的容器;")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在容器中运行命令 cat /proc/version 和 ls 分别查看当前系统的版本信息和当前目录下的文件列表")]),s._v("\nroot@8a725ffa2d7b:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat /proc/version")]),s._v("\nLinux version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.4")]),s._v(".72-microsoft-standard-WSL2 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("oe-user@oe-host"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("gcc version "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.2")]),s._v(".0 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GCC"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1 SMP Wed Oct 28 23:40:43 UTC 2020")]),s._v("\nroot@8a725ffa2d7b:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nbin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var\nroot@8a725ffa2d7b:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("通过运行 exit 命令或者使用 CTRL+D 来退出容器。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("root@8a725ffa2d7b:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\nPS C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ASUS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("blockquote",[t("p",[s._v("意第三行中 "),t("strong",[s._v("PS C:\\Users\\ASUS>")]),s._v(" 表明我们已经退出了当前的容器，返回到当前的主机中。")])]),s._v(" "),t("h2",{attrs:{id:"后台模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后台模式"}},[s._v("#")]),s._v(" 后台模式")]),s._v(" "),t("blockquote",[t("p",[s._v("使用命令创建一个以进程方式运行的容器")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("PS C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ASUS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" docker run -d ubuntu:15.10 /bin/sh -c "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"while true; do echo hello world; sleep 1; done"')]),s._v("\n0fb0e9c06a91be59d233afa078a9edbdcb10e9702fb6531ad777654ad8676a51\nPS C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ASUS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("在输出中，我们看到一串长字符")]),s._v(" "),t("p",[s._v("0fb0e9c06a91be59d233afa078a9edbdcb10e9702fb6531ad777654ad8676a51")]),s._v(" "),t("p",[s._v("这个长字符串叫做容器 ID，对每个容器来说都是唯一的，我们可以通过容器 ID 来查看对应的容器发生了什么。")]),s._v(" "),t("p",[s._v("首先，我们需要确认容器有在运行，可以通过 "),t("strong",[s._v("docker ps")]),s._v(" 来查看：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("PS C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ASUS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\nCONTAINER ID   IMAGE          COMMAND                  CREATED              STATUS              PORTS     NAMES\n0fb0e9c06a91   ubuntu:15.10   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/sh -c \'while t…"')]),s._v("   About a minute ago   Up About a minute             blissful_bassi\nPS C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ASUS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("输出详情介绍：")]),s._v(" "),t("p",[t("strong",[s._v("CONTAINER ID:")]),s._v(" 容器 ID。")]),s._v(" "),t("p",[t("strong",[s._v("IMAGE:")]),s._v(" 使用的镜像。")]),s._v(" "),t("p",[t("strong",[s._v("COMMAND:")]),s._v(" 启动容器时运行的命令。")]),s._v(" "),t("p",[t("strong",[s._v("CREATED:")]),s._v(" 容器的创建时间。")]),s._v(" "),t("p",[t("strong",[s._v("STATUS:")]),s._v(" 容器状态。")]),s._v(" "),t("p",[s._v("状态有7种：")]),s._v(" "),t("ul",[t("li",[s._v("created（已创建）")]),s._v(" "),t("li",[s._v("restarting（重启中）")]),s._v(" "),t("li",[s._v("running 或 Up（运行中）")]),s._v(" "),t("li",[s._v("removing（迁移中）")]),s._v(" "),t("li",[s._v("paused（暂停）")]),s._v(" "),t("li",[s._v("exited（停止）")]),s._v(" "),t("li",[s._v("dead（死亡）")])]),s._v(" "),t("p",[t("strong",[s._v("PORTS:")]),s._v(" 容器的端口信息和使用的连接类型（tcp\\udp）。")]),s._v(" "),t("p",[t("strong",[s._v("NAMES:")]),s._v(" 自动分配的容器名称。")]),s._v(" "),t("p",[s._v("在宿主主机内使用 "),t("strong",[s._v("docker logs")]),s._v(" 命令，查看容器内的标准输出：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("PS C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ASUS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" docker logs 0fb0e9c06a91\nhello world\nhello world\nhello world\nhello world\nhello world\nhello world\nhello world\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"停止容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#停止容器"}},[s._v("#")]),s._v(" 停止容器")]),s._v(" "),t("blockquote",[t("p",[s._v("我们使用 "),t("strong",[s._v("docker stop ID")]),s._v("  命令来停止容器:")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("PS C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ASUS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" docker stop 0fb0e9c06a91\n0fb0e9c06a91\nPS C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ASUS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\nPS C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("ASUS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);