<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>react 基础语法 | Yahweh</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="alternate" type="application/atom+xml" href="https://blog.yahweh.top/atom.xml" title="Yahweh Atom Feed">
    <link rel="alternate" type="application/json" href="https://blog.yahweh.top/feed.json" title="Yahweh JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://blog.yahweh.top/rss.xml" title="Yahweh RSS Feed">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="一个记录琐碎知识的笔记文档✨">
    <meta property="og:url" content="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html">
    <meta property="og:site_name" content="Yahweh">
    <meta property="og:title" content="react 基础语法">
    <meta property="og:description" content="React的特点； 1、声明式； 可以声明式的在js中写html结构；; " 注意: react是用很像 js 的语言写标签;" 2、基于组件； 组件是React最重要的部分；; 组合、复用多个组件，可以实现完整的页面功能;; 3、学习一次，随处可用； 使用React可以开发 Web 应用、移动端原生应用（react-native）、 VR（虚拟现实）应用（">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="zh-CN">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Yahweh">
    <meta property="article:author" content="Mr. Yahweh">
    <meta property="article:published_time" content="2021-05-02T00:00:00.000Z">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.ec62315c.css" as="style"><link rel="preload" href="/assets/js/app.8001480a.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Layout.6e1a735a.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.0332e022.js" as="script"><link rel="preload" href="/assets/js/page-react基础语法.f4b34bc4.js" as="script"><link rel="prefetch" href="/assets/js/375.c9fcf366.js"><link rel="prefetch" href="/assets/js/layout-Blog.93216ea2.js"><link rel="prefetch" href="/assets/js/layout-Layout.1a0d507b.js"><link rel="prefetch" href="/assets/js/layout-NotFound.02b6f781.js"><link rel="prefetch" href="/assets/js/page-Bluebird.6f4cb4d8.js"><link rel="prefetch" href="/assets/js/page-CSS自定义属性（变量）.c6a7e6cc.js"><link rel="prefetch" href="/assets/js/page-Clientdoesnotsupportauthenticationpr.c6e4288e.js"><link rel="prefetch" href="/assets/js/page-CommonJS规范.4edc845f.js"><link rel="prefetch" href="/assets/js/page-DNS、CDN.6eba6a6b.js"><link rel="prefetch" href="/assets/js/page-ES10.92f06dba.js"><link rel="prefetch" href="/assets/js/page-ES11.aa148e45.js"><link rel="prefetch" href="/assets/js/page-ES12.b15e44f9.js"><link rel="prefetch" href="/assets/js/page-ES13.dae6823f.js"><link rel="prefetch" href="/assets/js/page-ES6.a574ca28.js"><link rel="prefetch" href="/assets/js/page-ES7.40e9a2d8.js"><link rel="prefetch" href="/assets/js/page-ES8.5a81e4d0.js"><link rel="prefetch" href="/assets/js/page-ES9.fea66dca.js"><link rel="prefetch" href="/assets/js/page-EventLoop机制.930405cf.js"><link rel="prefetch" href="/assets/js/page-FailedtostartLSBJenkinsAutomationServer.aa735fd6.js"><link rel="prefetch" href="/assets/js/page-GET相关命令.43871b57.js"><link rel="prefetch" href="/assets/js/page-Generator函数及其异步应用.b8643c9e.js"><link rel="prefetch" href="/assets/js/page-Generator函数的实现原理.77d19b07.js"><link rel="prefetch" href="/assets/js/page-Goland执行流程.ffd01ee0.js"><link rel="prefetch" href="/assets/js/page-Golang引入.9eb4815b.js"><link rel="prefetch" href="/assets/js/page-Golang简史.1e7cf9ab.js"><link rel="prefetch" href="/assets/js/page-Go的依赖管理.c9cd1445.js"><link rel="prefetch" href="/assets/js/page-HTML基础总结.70b53436.js"><link rel="prefetch" href="/assets/js/page-HTTP入门和基础工具链.24963a38.js"><link rel="prefetch" href="/assets/js/page-HTTP协议详细说明.e51c92d9.js"><link rel="prefetch" href="/assets/js/page-HTTP服务器与客户端.8ac82ddd.js"><link rel="prefetch" href="/assets/js/page-HelloWorld快速入门.50216c7e.js"><link rel="prefetch" href="/assets/js/page-Home.9b57b7ef.js"><link rel="prefetch" href="/assets/js/page-Hooks.ca36d01b.js"><link rel="prefetch" href="/assets/js/page-JSONTOYAML.71501c34.js"><link rel="prefetch" href="/assets/js/page-JSX语法.89001096.js"><link rel="prefetch" href="/assets/js/page-Linux查看磁盘空间.76129952.js"><link rel="prefetch" href="/assets/js/page-MYSQL使用.114b2825.js"><link rel="prefetch" href="/assets/js/page-Middleware.ca977c4a.js"><link rel="prefetch" href="/assets/js/page-MySQL安装与使用.0cd14fb5.js"><link rel="prefetch" href="/assets/js/page-Nodejs不是银弹.613cc95f.js"><link rel="prefetch" href="/assets/js/page-Nodejs是什么.79d059dc.js"><link rel="prefetch" href="/assets/js/page-Nodejs的性能.e0ef8e47.js"><link rel="prefetch" href="/assets/js/page-Nodejs能做什么.d7c077a9.js"><link rel="prefetch" href="/assets/js/page-OSI七层模型.879de22f.js"><link rel="prefetch" href="/assets/js/page-RESTFUL.9f372f9a.js"><link rel="prefetch" href="/assets/js/page-Rxjs.d47565e0.js"><link rel="prefetch" href="/assets/js/page-SQL基本概念与通用语法.d3cab2bd.js"><link rel="prefetch" href="/assets/js/page-Symbol.fc65b4e9.js"><link rel="prefetch" href="/assets/js/page-TCP、IP协议.86ab2ecb.js"><link rel="prefetch" href="/assets/js/page-VirtualDOM.16740143.js"><link rel="prefetch" href="/assets/js/page-Vue响应式原理.dc563247.js"><link rel="prefetch" href="/assets/js/page-Vue组件data为什么必须是个函数而Vue的根实例则没有此限制？.7a092a27.js"><link rel="prefetch" href="/assets/js/page-WebSocket.16f0a679.js"><link rel="prefetch" href="/assets/js/page-WebWorkers.95947a41.js"><link rel="prefetch" href="/assets/js/page-ajax基础.951774d3.js"><link rel="prefetch" href="/assets/js/page-async函数实现原理.abb27239.js"><link rel="prefetch" href="/assets/js/page-axios发delete请求，后台收不到参数.a48d623d.js"><link rel="prefetch" href="/assets/js/page-chunk函数及其应用.dcff541a.js"><link rel="prefetch" href="/assets/js/page-cmder右键菜单.d25f17a4.js"><link rel="prefetch" href="/assets/js/page-commitlintcli制定提交规范.ccb14ac6.js"><link rel="prefetch" href="/assets/js/page-component.e930153d.js"><link rel="prefetch" href="/assets/js/page-compose函数和pipe函数.3f937689.js"><link rel="prefetch" href="/assets/js/page-computed的实现原理.4caa9976.js"><link rel="prefetch" href="/assets/js/page-context.93e778f3.js"><link rel="prefetch" href="/assets/js/page-cookie操作.1ab06e7f.js"><link rel="prefetch" href="/assets/js/page-co模块源码分析.65ae9e3d.js"><link rel="prefetch" href="/assets/js/page-css-loader.dded0d35.js"><link rel="prefetch" href="/assets/js/page-css基础.c0193dea.js"><link rel="prefetch" href="/assets/js/page-defer关键字.101e52fd.js"><link rel="prefetch" href="/assets/js/page-defineProperty.b3637a41.js"><link rel="prefetch" href="/assets/js/page-deno相关问题.c1bbb6e3.js"><link rel="prefetch" href="/assets/js/page-dirname和filename.ec5eba7c.js"><link rel="prefetch" href="/assets/js/page-docker安装.3f5c0f5f.js"><link rel="prefetch" href="/assets/js/page-el和$mount的区别.f05c4ce8.js"><link rel="prefetch" href="/assets/js/page-failedtoruncommand‘java’Nosuchfileordirectory.7bbd743c.js"><link rel="prefetch" href="/assets/js/page-flex布局.18224485.js"><link rel="prefetch" href="/assets/js/page-for循环.18d6433a.js"><link rel="prefetch" href="/assets/js/page-gitclone错误.46fdd91d.js"><link rel="prefetch" href="/assets/js/page-githup钩子触发jenkins构建.bfcf7434.js"><link rel="prefetch" href="/assets/js/page-gitignore规则简介.ef662c90.js"><link rel="prefetch" href="/assets/js/page-git基础.0d4690a9.js"><link rel="prefetch" href="/assets/js/page-helloWorld.3b7596a3.js"><link rel="prefetch" href="/assets/js/page-husky实践.d8c06cdc.js"><link rel="prefetch" href="/assets/js/page-import与require()的区别.b72094c3.js"><link rel="prefetch" href="/assets/js/page-init函数.330a7a8a.js"><link rel="prefetch" href="/assets/js/page-javascript内存管理.524cf704.js"><link rel="prefetch" href="/assets/js/page-javascript单线程.21a47afb.js"><link rel="prefetch" href="/assets/js/page-javascript高级.f0804f41.js"><link rel="prefetch" href="/assets/js/page-jenkins基础命令.0fb9ca4d.js"><link rel="prefetch" href="/assets/js/page-jenkins构建时无权限.128b8282.js"><link rel="prefetch" href="/assets/js/page-jenkins构建项目失败.0ada6e3c.js"><link rel="prefetch" href="/assets/js/page-jenkins结合git实现自动化部署.0f4ce593.js"><link rel="prefetch" href="/assets/js/page-jquery基础.e7796243.js"><link rel="prefetch" href="/assets/js/page-json-serve.8f2086cd.js"><link rel="prefetch" href="/assets/js/page-js实现复制粘贴.c3e89608.js"><link rel="prefetch" href="/assets/js/page-js数据类型.33f9d351.js"><link rel="prefetch" href="/assets/js/page-koa-logger.59c5f338.js"><link rel="prefetch" href="/assets/js/page-link和@import的区别.e32c4f49.js"><link rel="prefetch" href="/assets/js/page-lint-staged实践.ead65ee7.js"><link rel="prefetch" href="/assets/js/page-linux-nodejs启动报错.cc397e02.js"><link rel="prefetch" href="/assets/js/page-linux与window分隔符问题.b4b60041.js"><link rel="prefetch" href="/assets/js/page-linux与环境变量.a33fdb51.js"><link rel="prefetch" href="/assets/js/page-linux软连接的作用.779291f5.js"><link rel="prefetch" href="/assets/js/page-liunx上用tomcat部署web项目后访问空白页问题.da7bc8b5.js"><link rel="prefetch" href="/assets/js/page-map.877ab718.js"><link rel="prefetch" href="/assets/js/page-mockjs.dbac69cf.js"><link rel="prefetch" href="/assets/js/page-mysql创建用户并授权.7b975d56.js"><link rel="prefetch" href="/assets/js/page-mysql启动错误.c6a25236.js"><link rel="prefetch" href="/assets/js/page-new的实现原理.693cd327.js"><link rel="prefetch" href="/assets/js/page-nginx部署vue项目.d61b7c79.js"><link rel="prefetch" href="/assets/js/page-nginx配置资源压缩.ce3716a5.js"><link rel="prefetch" href="/assets/js/page-nodejs的安装.9e2f1c4d.js"><link rel="prefetch" href="/assets/js/page-node实现自动化部署.4e12d4d0.js"><link rel="prefetch" href="/assets/js/page-node版本管理工具-nvm.282f66e8.js"><link rel="prefetch" href="/assets/js/page-notepad++右键菜单.7f82cb48.js"><link rel="prefetch" href="/assets/js/page-npm设置下载源.778af1e0.js"><link rel="prefetch" href="/assets/js/page-ora的使用.76c19766.js"><link rel="prefetch" href="/assets/js/page-packagexxxisnotinGOROOT.12a5e867.js"><link rel="prefetch" href="/assets/js/page-pathjoin()和pathresolve().3b1f775b.js"><link rel="prefetch" href="/assets/js/page-permissiondenied1270018888.01b3349e.js"><link rel="prefetch" href="/assets/js/page-pm2commandnotfound.22e3ec58.js"><link rel="prefetch" href="/assets/js/page-pm2的使用.f52ade3b.js"><link rel="prefetch" href="/assets/js/page-promiseA+规范.20702b59.js"><link rel="prefetch" href="/assets/js/page-promise执行问题.7e0c28dd.js"><link rel="prefetch" href="/assets/js/page-promise解决并发请求.c6011f96.js"><link rel="prefetch" href="/assets/js/page-react-redux.6eb3f587.js"><link rel="prefetch" href="/assets/js/page-react组件.ba8aecbd.js"><link rel="prefetch" href="/assets/js/page-react脚手架.6645e9ad.js"><link rel="prefetch" href="/assets/js/page-redux使用.c2852c81.js"><link rel="prefetch" href="/assets/js/page-rem.9f646f66.js"><link rel="prefetch" href="/assets/js/page-requirecontext.0a415cca.js"><link rel="prefetch" href="/assets/js/page-script和link.26abc966.js"><link rel="prefetch" href="/assets/js/page-sourceMap相关.dabe7252.js"><link rel="prefetch" href="/assets/js/page-ssr介绍.645e51da.js"><link rel="prefetch" href="/assets/js/page-state和setState.9c671c20.js"><link rel="prefetch" href="/assets/js/page-template.4e3b4fd2.js"><link rel="prefetch" href="/assets/js/page-this对象.efcb159c.js"><link rel="prefetch" href="/assets/js/page-this指向问题.96176cdb.js"><link rel="prefetch" href="/assets/js/page-toast组件.5ae38ee3.js"><link rel="prefetch" href="/assets/js/page-tomcat安装.13f27daf.js"><link rel="prefetch" href="/assets/js/page-tomcat部署web应用.2d3b93fd.js"><link rel="prefetch" href="/assets/js/page-tomcat部署多个项目.e3064c4a.js"><link rel="prefetch" href="/assets/js/page-transform.3cccd3f1.js"><link rel="prefetch" href="/assets/js/page-v-if和v-for哪个优先级更高？.404a24ae.js"><link rel="prefetch" href="/assets/js/page-vite启动报错：Cannotcallwriteafterastreamwasdestroyed.135bc159.js"><link rel="prefetch" href="/assets/js/page-vue-cli使用.01686ef9.js"><link rel="prefetch" href="/assets/js/page-vue-router.faa71b78.js"><link rel="prefetch" href="/assets/js/page-vue-router中的导航钩子由那些？.c0ebea20.js"><link rel="prefetch" href="/assets/js/page-vue-router源码实现1.48595d61.js"><link rel="prefetch" href="/assets/js/page-vue-router源码实现2.7a3c1b13.js"><link rel="prefetch" href="/assets/js/page-vuex源码实现.271af5b3.js"><link rel="prefetch" href="/assets/js/page-vue中ssr的基本用法.028dbf36.js"><link rel="prefetch" href="/assets/js/page-vue中组件之间的通信方式？.4fa34266.js"><link rel="prefetch" href="/assets/js/page-vue介绍.05df5b0e.js"><link rel="prefetch" href="/assets/js/page-vue在实例化之前初始化了什么？.babbabe1.js"><link rel="prefetch" href="/assets/js/page-vue如果想要扩展某个现有组件时怎么做？.1ced41d8.js"><link rel="prefetch" href="/assets/js/page-vue指令.6ef42ffd.js"><link rel="prefetch" href="/assets/js/page-vue跨域解决方案.31d7ff8b.js"><link rel="prefetch" href="/assets/js/page-vue项目使用require引入图片不能不显示.3c8852f0.js"><link rel="prefetch" href="/assets/js/page-watch和computed的区别以及怎么选用.a4cf69dc.js"><link rel="prefetch" href="/assets/js/page-webpack、webpack-cli、webpack-dev-server的关系.34fc60f0.js"><link rel="prefetch" href="/assets/js/page-webpack打包进度条.5e004135.js"><link rel="prefetch" href="/assets/js/page-webpack项目初始化.2b8fc603.js"><link rel="prefetch" href="/assets/js/page-wepy-cli的使用.d7a7aa1c.js"><link rel="prefetch" href="/assets/js/page-win10使用hyper-v.559ccf92.js"><link rel="prefetch" href="/assets/js/page-winMysql使用.0e0fb44a.js"><link rel="prefetch" href="/assets/js/page-winNginx使用.e58b13d8.js"><link rel="prefetch" href="/assets/js/page-wind终端添加右键菜单.7975b10c.js"><link rel="prefetch" href="/assets/js/page-win终端添加gitBash.47346535.js"><link rel="prefetch" href="/assets/js/page-wsl与hyper的关系.657b9d43.js"><link rel="prefetch" href="/assets/js/page-为什么不建议采用定时器实现动画？requestAnimationFrame有哪些优势？.166c23fc.js"><link rel="prefetch" href="/assets/js/page-乱蹦的小球.fb4a08b1.js"><link rel="prefetch" href="/assets/js/page-事件驱动events.07c93d95.js"><link rel="prefetch" href="/assets/js/page-享元模式.5ba4ef27.js"><link rel="prefetch" href="/assets/js/page-什么是GO111MODULE.bff36281.js"><link rel="prefetch" href="/assets/js/page-什么是Promise.7dcfe55c.js"><link rel="prefetch" href="/assets/js/page-什么是wsl.4932e2e4.js"><link rel="prefetch" href="/assets/js/page-什么是作用域.32a05fd5.js"><link rel="prefetch" href="/assets/js/page-什么是递归组件？.7a1435c0.js"><link rel="prefetch" href="/assets/js/page-介绍.767231ca.js"><link rel="prefetch" href="/assets/js/page-作用域链.76268000.js"><link rel="prefetch" href="/assets/js/page-作用域链延长.4e990cde.js"><link rel="prefetch" href="/assets/js/page-你了解哪些Vue性能优化方法.52be61ec.js"><link rel="prefetch" href="/assets/js/page-你对Vue30的新特性有没有了解？.950a9102.js"><link rel="prefetch" href="/assets/js/page-你怎么理解vue中的diff算法.984320a8.js"><link rel="prefetch" href="/assets/js/page-你知道nextTick的原理吗.195d75c2.js"><link rel="prefetch" href="/assets/js/page-你知道vue中key的作用和工作原理吗？说说你对它的理解.5d7c9cb0.js"><link rel="prefetch" href="/assets/js/page-使用GoReleaser发布你的应用.ce8783ff.js"><link rel="prefetch" href="/assets/js/page-使用hyper-v管理虚拟机.d8068a0f.js"><link rel="prefetch" href="/assets/js/page-使用nodejs.55342bca.js"><link rel="prefetch" href="/assets/js/page-侦听器.650397dc.js"><link rel="prefetch" href="/assets/js/page-全局安装和本地安装.b76620d4.js"><link rel="prefetch" href="/assets/js/page-全局对象.fb33fccc.js"><link rel="prefetch" href="/assets/js/page-关键字.806fcc66.js"><link rel="prefetch" href="/assets/js/page-写一个js函数，实现对一个数字每3位加一个逗号.3a3633e2.js"><link rel="prefetch" href="/assets/js/page-函数.2bf20e0c.js"><link rel="prefetch" href="/assets/js/page-函数继承.21c6ee5a.js"><link rel="prefetch" href="/assets/js/page-函数节流.acecf46e.js"><link rel="prefetch" href="/assets/js/page-函数防抖.86157df5.js"><link rel="prefetch" href="/assets/js/page-切片.6cab5035.js"><link rel="prefetch" href="/assets/js/page-列表的更新.3b9c75c8.js"><link rel="prefetch" href="/assets/js/page-创建VUE实例.f5d31335.js"><link rel="prefetch" href="/assets/js/page-创建和访问对象.b949fa02.js"><link rel="prefetch" href="/assets/js/page-创建应用程序.016a1e82.js"><link rel="prefetch" href="/assets/js/page-创建镜像.e5b9a1c0.js"><link rel="prefetch" href="/assets/js/page-初始化项目.cbf31ad0.js"><link rel="prefetch" href="/assets/js/page-前端路由和服务端路由.ff5eb406.js"><link rel="prefetch" href="/assets/js/page-前言、常量与变量.3ba29094.js"><link rel="prefetch" href="/assets/js/page-加密和https证书.5a91850d.js"><link rel="prefetch" href="/assets/js/page-动画.f0dbad8f.js"><link rel="prefetch" href="/assets/js/page-包的引入.153ab4d1.js"><link rel="prefetch" href="/assets/js/page-匿名函数.ad6e2a50.js"><link rel="prefetch" href="/assets/js/page-单例模式.0660e7e8.js"><link rel="prefetch" href="/assets/js/page-单元测试.4769f580.js"><link rel="prefetch" href="/assets/js/page-博客园主题.767626b8.js"><link rel="prefetch" href="/assets/js/page-原型.380e3e23.js"><link rel="prefetch" href="/assets/js/page-发布订阅.e7ba943d.js"><link rel="prefetch" href="/assets/js/page-发表微博.c4506b36.js"><link rel="prefetch" href="/assets/js/page-变量.e2f9c9c3.js"><link rel="prefetch" href="/assets/js/page-变量声明.de7840fa.js"><link rel="prefetch" href="/assets/js/page-变量的复制.27103992.js"><link rel="prefetch" href="/assets/js/page-同步与异步.898b525a.js"><link rel="prefetch" href="/assets/js/page-后台持续运行node.bb3bc6b0.js"><link rel="prefetch" href="/assets/js/page-启动webpack-dev-server报错.88ae9b59.js"><link rel="prefetch" href="/assets/js/page-命令模式.3fb30c06.js"><link rel="prefetch" href="/assets/js/page-命令行输出目录树.9e7527d2.js"><link rel="prefetch" href="/assets/js/page-响应回来发送下一个请求.3d267006.js"><link rel="prefetch" href="/assets/js/page-响应式原理(对象).3708d3fe.js"><link rel="prefetch" href="/assets/js/page-响应式原理(数组).eac35d94.js"><link rel="prefetch" href="/assets/js/page-响应式开发.ed3e13c7.js"><link rel="prefetch" href="/assets/js/page-回调.a1301767.js"><link rel="prefetch" href="/assets/js/page-基础.bb59fcb0.js"><link rel="prefetch" href="/assets/js/page-基础知识.ff3aa01d.js"><link rel="prefetch" href="/assets/js/page-声明提升.3a2e7238.js"><link rel="prefetch" href="/assets/js/page-处理faviconicon.2f5eb509.js"><link rel="prefetch" href="/assets/js/page-处理路由.7e1014cd.js"><link rel="prefetch" href="/assets/js/page-备忘录模式.1561081d.js"><link rel="prefetch" href="/assets/js/page-外观模式.2935b455.js"><link rel="prefetch" href="/assets/js/page-如何组织你的Go项目目录结构.c45525c0.js"><link rel="prefetch" href="/assets/js/page-媒体查询.47b8a002.js"><link rel="prefetch" href="/assets/js/page-字符串类型.81f4ce02.js"><link rel="prefetch" href="/assets/js/page-字符类型.961d0916.js"><link rel="prefetch" href="/assets/js/page-安装.2631856a.js"><link rel="prefetch" href="/assets/js/page-安装nodejs.d273e3d9.js"><link rel="prefetch" href="/assets/js/page-安装npm.3db585d5.js"><link rel="prefetch" href="/assets/js/page-定时器.39e7a557.js"><link rel="prefetch" href="/assets/js/page-实现一个简单的MVVM框架.dc7c7796.js"><link rel="prefetch" href="/assets/js/page-客户端入口.d9b71ff4.js"><link rel="prefetch" href="/assets/js/page-容器的使用.a7f24b83.js"><link rel="prefetch" href="/assets/js/page-宿主文件.0d33ee5f.js"><link rel="prefetch" href="/assets/js/page-对象拷贝.22461b6c.js"><link rel="prefetch" href="/assets/js/page-封装与对象.fb9f782d.js"><link rel="prefetch" href="/assets/js/page-尾调用优化.9a739889.js"><link rel="prefetch" href="/assets/js/page-工厂模式.0e456546.js"><link rel="prefetch" href="/assets/js/page-工程结构.941204f4.js"><link rel="prefetch" href="/assets/js/page-布尔类型.746a7081.js"><link rel="prefetch" href="/assets/js/page-常用DOS命令.65c6ca91.js"><link rel="prefetch" href="/assets/js/page-常用函数.0c6e077f.js"><link rel="prefetch" href="/assets/js/page-常用命令.37d5c8fb.js"><link rel="prefetch" href="/assets/js/page-常用工具util.52d4a641.js"><link rel="prefetch" href="/assets/js/page-常用方法.abc34992.js"><link rel="prefetch" href="/assets/js/page-常用正则表达式.c21b9118.js"><link rel="prefetch" href="/assets/js/page-应用部署.c6b75fa3.js"><link rel="prefetch" href="/assets/js/page-建立微博网站.a0b8417d.js"><link rel="prefetch" href="/assets/js/page-建造者模式.f07f8d2b.js"><link rel="prefetch" href="/assets/js/page-开发工具介绍.eec99dc8.js"><link rel="prefetch" href="/assets/js/page-开发环境搭建.1e472be8.js"><link rel="prefetch" href="/assets/js/page-异步式IO与事件式编程.0654f700.js"><link rel="prefetch" href="/assets/js/page-异步式IO与事件驱动.138de3b5.js"><link rel="prefetch" href="/assets/js/page-异步执行顺序问题？.268db0c4.js"><link rel="prefetch" href="/assets/js/page-微任务执行问题.ee987990.js"><link rel="prefetch" href="/assets/js/page-总结.581c537a.js"><link rel="prefetch" href="/assets/js/page-手写Redux.a22108cb.js"><link rel="prefetch" href="/assets/js/page-手写promise.a2c8e76b.js"><link rel="prefetch" href="/assets/js/page-手写vue.4a33f939.js"><link rel="prefetch" href="/assets/js/page-打包及本地预览.6c6308a8.js"><link rel="prefetch" href="/assets/js/page-托管静态资源.83cca67b.js"><link rel="prefetch" href="/assets/js/page-指针.b2bfc03a.js"><link rel="prefetch" href="/assets/js/page-排序算法.0c83eb77.js"><link rel="prefetch" href="/assets/js/page-控制流.1225cd98.js"><link rel="prefetch" href="/assets/js/page-提高代码可靠性.ffec7c9f.js"><link rel="prefetch" href="/assets/js/page-插槽.d3ebd501.js"><link rel="prefetch" href="/assets/js/page-搭建本地服务.0c1c8a6a.js"><link rel="prefetch" href="/assets/js/page-数据库的CRUD操作.566351db.js"><link rel="prefetch" href="/assets/js/page-数据库的介绍.656b4e02.js"><link rel="prefetch" href="/assets/js/page-数据类型.ff2407a4.js"><link rel="prefetch" href="/assets/js/page-数据类型转化.a8413028.js"><link rel="prefetch" href="/assets/js/page-数据类型转换、运算符、方法入门.5cc156a0.js"><link rel="prefetch" href="/assets/js/page-数据预取.e2ca4902.js"><link rel="prefetch" href="/assets/js/page-数组.cf8edbc2.js"><link rel="prefetch" href="/assets/js/page-整合VUEX.aec9bfcd.js"><link rel="prefetch" href="/assets/js/page-整数类型.8db70447.js"><link rel="prefetch" href="/assets/js/page-文件上传.011fa8bf.js"><link rel="prefetch" href="/assets/js/page-文件系统fs.86ff76c5.js"><link rel="prefetch" href="/assets/js/page-普通用户切换到root用户.1fc2060b.js"><link rel="prefetch" href="/assets/js/page-更改tomact启动的默认文件夹.b6ca048d.js"><link rel="prefetch" href="/assets/js/page-服务端入口.de4ada23.js"><link rel="prefetch" href="/assets/js/page-构建后操作.7daaed68.js"><link rel="prefetch" href="/assets/js/page-构建流程.2e7b5e25.js"><link rel="prefetch" href="/assets/js/page-查看linux防火墙.558867e9.js"><link rel="prefetch" href="/assets/js/page-柯里化.b34c7eac.js"><link rel="prefetch" href="/assets/js/page-标识符.fb1eddc2.js"><link rel="prefetch" href="/assets/js/page-框架简介.d54dfd35.js"><link rel="prefetch" href="/assets/js/page-桥接模式.315cc5fc.js"><link rel="prefetch" href="/assets/js/page-模块加载机制.c555fd2f.js"><link rel="prefetch" href="/assets/js/page-模块和包.a9e6cd86.js"><link rel="prefetch" href="/assets/js/page-模板字符串.e956a786.js"><link rel="prefetch" href="/assets/js/page-模板引擎.d075dacb.js"><link rel="prefetch" href="/assets/js/page-模板方法模式.51be1989.js"><link rel="prefetch" href="/assets/js/page-流程控制.f66b3590.js"><link rel="prefetch" href="/assets/js/page-流程控制语句.b469683a.js"><link rel="prefetch" href="/assets/js/page-浏览器采用多进程架构有什么优势和劣势？.a2eb20e7.js"><link rel="prefetch" href="/assets/js/page-深入理解Promise.22446c37.js"><link rel="prefetch" href="/assets/js/page-深入理解asyncawait.b0197e34.js"><link rel="prefetch" href="/assets/js/page-深拷贝与浅拷贝.7c38aef5.js"><link rel="prefetch" href="/assets/js/page-片段视图.afbf0586.js"><link rel="prefetch" href="/assets/js/page-状态模式.969a32f9.js"><link rel="prefetch" href="/assets/js/page-玩转npmscript.0edfed0f.js"><link rel="prefetch" href="/assets/js/page-生命周期.807739e4.js"><link rel="prefetch" href="/assets/js/page-生成项目CHANGELOG文件.def15685.js"><link rel="prefetch" href="/assets/js/page-用户注册和登录.94fde647.js"><link rel="prefetch" href="/assets/js/page-立即执行函数(IIFE).5b85d644.js"><link rel="prefetch" href="/assets/js/page-策略模式.c9ceee7a.js"><link rel="prefetch" href="/assets/js/page-简单编辑svg图片.e3e6d374.js"><link rel="prefetch" href="/assets/js/page-简单说一说vuex使用及其理解？.d71d7669.js"><link rel="prefetch" href="/assets/js/page-简单说一说vue生命周期的理解.1366d414.js"><link rel="prefetch" href="/assets/js/page-类型检测.52d39854.js"><link rel="prefetch" href="/assets/js/page-类型转换.b10b742d.js"><link rel="prefetch" href="/assets/js/page-系统函数.83dd89e2.js"><link rel="prefetch" href="/assets/js/page-组件通信.b028d7c0.js"><link rel="prefetch" href="/assets/js/page-结构体.31c0cdd1.js"><link rel="prefetch" href="/assets/js/page-缓存.bbb92d58.js"><link rel="prefetch" href="/assets/js/page-编译原理.03c26bc0.js"><link rel="prefetch" href="/assets/js/page-网络协议.3d3664e2.js"><link rel="prefetch" href="/assets/js/page-脚本式流水线拉取代码.5be4e7aa.js"><link rel="prefetch" href="/assets/js/page-脚本式语法.e2b929cb.js"><link rel="prefetch" href="/assets/js/page-脚本式语法使用nodejs.11c2d0af.js"><link rel="prefetch" href="/assets/js/page-脚本式语法部署web项目.b1770aae.js"><link rel="prefetch" href="/assets/js/page-脚本配置.f01b61f7.js"><link rel="prefetch" href="/assets/js/page-节点.3047b769.js"><link rel="prefetch" href="/assets/js/page-获取浏览器的唯一标识.36101150.js"><link rel="prefetch" href="/assets/js/page-装饰者模式.aef175a2.js"><link rel="prefetch" href="/assets/js/page-视图助手.b87f1f2a.js"><link rel="prefetch" href="/assets/js/page-计算属性.3ae9cddd.js"><link rel="prefetch" href="/assets/js/page-计算机网络简史.3f5ea544.js"><link rel="prefetch" href="/assets/js/page-设计模式概论.7166ad81.js"><link rel="prefetch" href="/assets/js/page-说一说vue响应式理解？.6642d11c.js"><link rel="prefetch" href="/assets/js/page-调试.27ac9c79.js"><link rel="prefetch" href="/assets/js/page-谈一谈对vue组件化的理解.c77b02f0.js"><link rel="prefetch" href="/assets/js/page-谈一谈对vue设计原则的理解.16ebf3fe.js"><link rel="prefetch" href="/assets/js/page-谈谈你对MVC、MVP和MVVM的理解？.8b9218d2.js"><link rel="prefetch" href="/assets/js/page-谈谈你对vue的理解？.f90f6ca8.js"><link rel="prefetch" href="/assets/js/page-跨域.301facf9.js"><link rel="prefetch" href="/assets/js/page-跨域问题.7ec44290.js"><link rel="prefetch" href="/assets/js/page-路由控制.9e7ce4f1.js"><link rel="prefetch" href="/assets/js/page-路由系统.f50634e4.js"><link rel="prefetch" href="/assets/js/page-运算符.1b660215.js"><link rel="prefetch" href="/assets/js/page-运行web应用.49ab397f.js"><link rel="prefetch" href="/assets/js/page-迭代器模式.dcdd87ae.js"><link rel="prefetch" href="/assets/js/page-适配器模式.4188a97f.js"><link rel="prefetch" href="/assets/js/page-递归.56d2d4d1.js"><link rel="prefetch" href="/assets/js/page-配置webpack.df143222.js"><link rel="prefetch" href="/assets/js/page-配置清单.4614a78f.js"><link rel="prefetch" href="/assets/js/page-链表数据结构.c46060f1.js"><link rel="prefetch" href="/assets/js/page-错误处理.1e71768f.js"><link rel="prefetch" href="/assets/js/page-闭包.6c210ca9.js"><link rel="prefetch" href="/assets/js/page-页面渲染原理.fd139f68.js"><link rel="prefetch" href="/assets/js/page-项目初始化.61c28816.js"><link rel="prefetch" href="/assets/js/page-高阶函数.b3abbb0b.js"><link rel="prefetch" href="/assets/js/vendors~layout-Slide.b05da758.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.efe9225a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ec62315c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><img src="/img/logo-192.png" alt="Yahweh" class="logo"> <!----> <span class="site-name can-hide">Yahweh</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><!----> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><a href="/introduce/" class="nav-link"><!---->
  介绍
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title"><!---->
        前端
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/views/frontEnd/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><a href="/views/frontEnd/css/" class="nav-link"><!---->
  CSS
</a></li><li class="dropdown-item"><a href="/views/frontEnd/javascript/" class="nav-link"><!---->
  JAVASCRIPT
</a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>框架</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/frontEnd/vue/" class="nav-link"><!---->
  VUE
</a></li><li class="dropdown-subitem"><a href="/views/frontEnd/react/" class="nav-link router-link-active active"><!---->
  REACT
</a></li><li class="dropdown-subitem"><a href="/views/frontEnd/jquery/" class="nav-link"><!---->
  JQUERY
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>前端工程化</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/frontEnd/engineering/" class="nav-link"><!---->
  工程化
</a></li><li class="dropdown-subitem"><a href="/views/frontEnd/webpack/" class="nav-link"><!---->
  WEBPACK
</a></li><li class="dropdown-subitem"><a href="/views/frontEnd/plugins/" class="nav-link"><!---->
  PLUGINS
</a></li><li class="dropdown-subitem"><a href="/views/frontEnd/ajax/" class="nav-link"><!---->
  AJAX
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title"><!---->
        后端
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>编程语言</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/backEnd/nodejs/" class="nav-link"><!---->
  NODEJS
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/java/basic/" class="nav-link"><!---->
  JAVA
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/go/basic/" class="nav-link"><!---->
  GO
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>服务相关</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/backEnd/mysql/" class="nav-link"><!---->
  MYSQL
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/jenkins/" class="nav-link"><!---->
  JENKINS
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/nginx/" class="nav-link"><!---->
  NGINX
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/tomcat/" class="nav-link"><!---->
  TOMCAT
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/docker/" class="nav-link"><!---->
  DOCKER
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>框架</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/backEnd/express/" class="nav-link"><!---->
  EXPRESS
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/koa/" class="nav-link"><!---->
  KOA
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><span class="title"><!---->
        操作系统
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/views/ios/linux/" class="nav-link"><!---->
  LINUX
</a></li><li class="dropdown-item"><a href="/views/ios/ubantu/" class="nav-link"><!---->
  UBANTU
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title"><!---->
        工具
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/views/tools/git/" class="nav-link"><!---->
  GIT
</a></li><li class="dropdown-item"><a href="/views/tools/npm/" class="nav-link"><!---->
  NPM
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title"><!---->
        了解更多
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/views/computerNetwork/" class="nav-link"><!---->
  计算机网络
</a></li><li class="dropdown-item"><a href="/views/designMode/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><a href="/views/interviewQuestion/" class="nav-link"><!---->
  面试题
</a></li><li class="dropdown-item"><a href="/views/issues/" class="nav-link"><!---->
  issues
</a></li><li class="dropdown-item"><a href="/views/other/" class="nav-link"><!---->
  other
</a></li></ul></div></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="" role="navigation" class="blogger"><img property="image" alt="Blogger Avatar" src="/img/logo-192.png" class="avatar round"> <div property="name" class="name">Mr. Yahweh</div> <!----></div> <div class="num-wrapper"><div><div class="num">400</div> <div>文章</div></div> <div><div class="num">32</div> <div>分类</div></div> <div><div class="num">14</div> <div>标签</div></div> <div><div class="num">400</div> <div>时间轴</div></div></div> <div class="media-links-wrapper"><a href="https://github.com/wyw-s/documents" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><a href="/introduce/" class="nav-link"><!---->
  介绍
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title"><!---->
      前端
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/frontEnd/html/" class="nav-link"><!---->
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/views/frontEnd/css/" class="nav-link"><!---->
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/views/frontEnd/javascript/" class="nav-link"><!---->
  JAVASCRIPT
</a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>框架</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/frontEnd/vue/" class="nav-link"><!---->
  VUE
</a></li><li class="dropdown-subitem"><a href="/views/frontEnd/react/" class="nav-link router-link-active active"><!---->
  REACT
</a></li><li class="dropdown-subitem"><a href="/views/frontEnd/jquery/" class="nav-link"><!---->
  JQUERY
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>前端工程化</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/frontEnd/engineering/" class="nav-link"><!---->
  工程化
</a></li><li class="dropdown-subitem"><a href="/views/frontEnd/webpack/" class="nav-link"><!---->
  WEBPACK
</a></li><li class="dropdown-subitem"><a href="/views/frontEnd/plugins/" class="nav-link"><!---->
  PLUGINS
</a></li><li class="dropdown-subitem"><a href="/views/frontEnd/ajax/" class="nav-link"><!---->
  AJAX
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title"><!---->
      后端
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>编程语言</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/backEnd/nodejs/" class="nav-link"><!---->
  NODEJS
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/java/basic/" class="nav-link"><!---->
  JAVA
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/go/basic/" class="nav-link"><!---->
  GO
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>服务相关</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/backEnd/mysql/" class="nav-link"><!---->
  MYSQL
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/jenkins/" class="nav-link"><!---->
  JENKINS
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/nginx/" class="nav-link"><!---->
  NGINX
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/tomcat/" class="nav-link"><!---->
  TOMCAT
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/docker/" class="nav-link"><!---->
  DOCKER
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>框架</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/views/backEnd/express/" class="nav-link"><!---->
  EXPRESS
</a></li><li class="dropdown-subitem"><a href="/views/backEnd/koa/" class="nav-link"><!---->
  KOA
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><span class="title"><!---->
      操作系统
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/ios/linux/" class="nav-link"><!---->
  LINUX
</a></li><li class="dropdown-item"><!----> <a href="/views/ios/ubantu/" class="nav-link"><!---->
  UBANTU
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title"><!---->
      工具
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/tools/git/" class="nav-link"><!---->
  GIT
</a></li><li class="dropdown-item"><!----> <a href="/views/tools/npm/" class="nav-link"><!---->
  NPM
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title"><!---->
      了解更多
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/views/computerNetwork/" class="nav-link"><!---->
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/views/designMode/" class="nav-link"><!---->
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/views/interviewQuestion/" class="nav-link"><!---->
  面试题
</a></li><li class="dropdown-item"><!----> <a href="/views/issues/" class="nav-link"><!---->
  issues
</a></li><li class="dropdown-item"><!----> <a href="/views/other/" class="nav-link"><!---->
  other
</a></li></ul></div></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/views/frontEnd/react/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/" aria-current="page" class="active sidebar-link">react 基础语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#react的特点" class="sidebar-link">React的特点；</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、声明式" class="sidebar-link heading3">1、声明式；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、基于组件" class="sidebar-link heading3">2、基于组件；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_3、学习一次-随处可用" class="sidebar-link heading3">3、学习一次，随处可用；</a></li></ul></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#react的基本使用" class="sidebar-link">React的基本使用；</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、安装" class="sidebar-link heading3">1、安装；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、使用" class="sidebar-link heading3">2、使用；</a></li></ul></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#react事件处理" class="sidebar-link">React事件处理；</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、事件绑定" class="sidebar-link heading3">1、事件绑定；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、事件对象" class="sidebar-link heading3">2、事件对象；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_3、this指向问题" class="sidebar-link heading3">3、this指向问题；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_4、状态组件" class="sidebar-link heading3">4、状态组件；</a></li></ul></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#表单处理" class="sidebar-link">表单处理；</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、受控组件" class="sidebar-link heading3">1、受控组件；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、非受控组件" class="sidebar-link heading3">2、非受控组件；</a></li></ul></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#组件通讯" class="sidebar-link">组件通讯；</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、props的介绍" class="sidebar-link heading3">1、props的介绍;</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、props特点" class="sidebar-link heading3">2、props特点；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_3、props效验" class="sidebar-link heading3">3、props效验；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_4、父传子" class="sidebar-link heading3">4、父传子；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_4、子传父" class="sidebar-link heading3">4、子传父；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_5、兄弟传值" class="sidebar-link heading3">5、兄弟传值；</a></li></ul></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#react路由" class="sidebar-link">React路由;</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、路由的三种基本组件" class="sidebar-link heading3">1、路由的三种基本组件：</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、动态路由和404页面" class="sidebar-link heading3">2、动态路由和404页面；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_3、默认路由" class="sidebar-link heading3">3、默认路由；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_4、编程式导航" class="sidebar-link heading3">4、编程式导航；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_5、匹配模式" class="sidebar-link heading3">5、匹配模式；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_6、二级路由的配置" class="sidebar-link heading3">6、二级路由的配置；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_7、路由重定向" class="sidebar-link heading3">7、路由重定向；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_8、自定义route" class="sidebar-link heading3">8、自定义route;</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_9、withrouter高阶组件" class="sidebar-link heading3">9、withRouter高阶组件;</a></li></ul></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#组件性能优化" class="sidebar-link">组件性能优化；</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、轻量化state" class="sidebar-link heading3">1、轻量化state;</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、减少不必要的重新渲染" class="sidebar-link heading3">2、减少不必要的重新渲染；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_3、纯组件" class="sidebar-link heading3">3、纯组件；</a></li></ul></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#虚拟dom" class="sidebar-link">虚拟DOM；</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、执行过程" class="sidebar-link heading3">1、执行过程；</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、diff算法说明" class="sidebar-link heading3">2、Diff算法说明;</a></li></ul></li></ul></li><li><a href="/views/frontEnd/react/06_react%E8%84%9A%E6%89%8B%E6%9E%B6/" class="sidebar-link">react脚手架</a></li><li><a href="/views/frontEnd/react/08_context/" class="sidebar-link">context</a></li><li><a href="/views/frontEnd/react/10_redux%E4%BD%BF%E7%94%A8/" class="sidebar-link">redux使用</a></li><li><a href="/views/frontEnd/react/13_react_redux/" class="sidebar-link">react-redux</a></li><li><a href="/views/frontEnd/react/15_JSX%E8%AF%AD%E6%B3%95/" class="sidebar-link">JSX语法</a></li><li><a href="/views/frontEnd/react/20_react%E7%BB%84%E4%BB%B6/" class="sidebar-link">react组件</a></li><li><a href="/views/frontEnd/react/25_state%E5%92%8CsetState/" class="sidebar-link">state和setState</a></li><li><a href="/views/frontEnd/react/30_%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" class="sidebar-link">生命周期</a></li><li><a href="/views/frontEnd/react/40_Hooks/" class="sidebar-link">Hooks</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><!----> <span class="title">进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/views/frontEnd/react/35_%E6%89%8B%E5%86%99Redux/" class="sidebar-link">手写Redux</a></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">react 基础语法</span></h1> <div class="page-info"><!----> <!----><!----><span aria-label="写作日期📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2021-05-02 </span></span><span role="navigation" aria-label="分类🌈" data-balloon-pos="down" class="category-info enable"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon category-icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zm-.854 446.486H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zm446.371-446.486h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zm136.293 813.51H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z" fill="currentColor"></path></svg> <span property="articleSection">REACT</span></span><!----><span aria-label="阅读时间⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>大约 18 分钟</span> <meta property="timeRequired" content="PT18M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#react的特点" class="anchor-link heading2"><div>React的特点；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、声明式" class="anchor-link heading3"><div>1、声明式；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、基于组件" class="anchor-link heading3"><div>2、基于组件；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_3、学习一次-随处可用" class="anchor-link heading3"><div>3、学习一次，随处可用；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#react的基本使用" class="anchor-link heading2"><div>React的基本使用；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、安装" class="anchor-link heading3"><div>1、安装；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、使用" class="anchor-link heading3"><div>2、使用；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#react事件处理" class="anchor-link heading2"><div>React事件处理；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、事件绑定" class="anchor-link heading3"><div>1、事件绑定；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、事件对象" class="anchor-link heading3"><div>2、事件对象；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_3、this指向问题" class="anchor-link heading3"><div>3、this指向问题；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_4、状态组件" class="anchor-link heading3"><div>4、状态组件；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#表单处理" class="anchor-link heading2"><div>表单处理；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、受控组件" class="anchor-link heading3"><div>1、受控组件；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、非受控组件" class="anchor-link heading3"><div>2、非受控组件；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#组件通讯" class="anchor-link heading2"><div>组件通讯；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、props的介绍" class="anchor-link heading3"><div>1、props的介绍;</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、props特点" class="anchor-link heading3"><div>2、props特点；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_3、props效验" class="anchor-link heading3"><div>3、props效验；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_4、父传子" class="anchor-link heading3"><div>4、父传子；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_4、子传父" class="anchor-link heading3"><div>4、子传父；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_5、兄弟传值" class="anchor-link heading3"><div>5、兄弟传值；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#react路由" class="anchor-link heading2"><div>React路由;</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、路由的三种基本组件" class="anchor-link heading3"><div>1、路由的三种基本组件：</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、动态路由和404页面" class="anchor-link heading3"><div>2、动态路由和404页面；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_3、默认路由" class="anchor-link heading3"><div>3、默认路由；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_4、编程式导航" class="anchor-link heading3"><div>4、编程式导航；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_5、匹配模式" class="anchor-link heading3"><div>5、匹配模式；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_6、二级路由的配置" class="anchor-link heading3"><div>6、二级路由的配置；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_7、路由重定向" class="anchor-link heading3"><div>7、路由重定向；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_8、自定义route" class="anchor-link heading3"><div>8、自定义route;</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_9、withrouter高阶组件" class="anchor-link heading3"><div>9、withRouter高阶组件;</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#组件性能优化" class="anchor-link heading2"><div>组件性能优化；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、轻量化state" class="anchor-link heading3"><div>1、轻量化state;</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、减少不必要的重新渲染" class="anchor-link heading3"><div>2、减少不必要的重新渲染；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_3、纯组件" class="anchor-link heading3"><div>3、纯组件；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#虚拟dom" class="anchor-link heading2"><div>虚拟DOM；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_1、执行过程" class="anchor-link heading3"><div>1、执行过程；</div></a></li><li class="anchor"><a href="/views/frontEnd/react/05_react%20%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/#_2、diff算法说明" class="anchor-link heading3"><div>2、Diff算法说明;</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h2 id="react的特点"><a href="#react的特点" class="header-anchor">#</a> <code>React</code>的特点；</h2> <h3 id="_1、声明式"><a href="#_1、声明式" class="header-anchor">#</a> 1、声明式；</h3> <ul><li>可以声明式的在<code>js</code>中写<code>html</code>结构；</li></ul> <blockquote><p>注意: <code>react</code>是用很像 <code>js</code> 的语言写标签;</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> jsx <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello React! 动态变化数据：</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2、基于组件"><a href="#_2、基于组件" class="header-anchor">#</a> 2、基于组件；</h3> <ul><li>组件是<code>React</code>最重要的部分；</li> <li>组合、复用多个组件，可以实现完整的页面功能;</li></ul> <h3 id="_3、学习一次-随处可用"><a href="#_3、学习一次-随处可用" class="header-anchor">#</a> 3、学习一次，随处可用；</h3> <ul><li>使用<code>React</code>可以开发 Web 应用、移动端原生应用（react-native）、 VR（虚拟现实）应用（react 360）</li></ul> <h2 id="react的基本使用"><a href="#react的基本使用" class="header-anchor">#</a> <code>React</code>的基本使用；</h2> <h3 id="_1、安装"><a href="#_1、安装" class="header-anchor">#</a> 1、安装；</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>1、安装命令： $ npm i react react-dom
2、react 包是核心，提供创建元素、组件等功能 ；
3、react-dom 包提供 DOM 相关功能等；
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2、使用"><a href="#_2、使用" class="header-anchor">#</a> 2、使用；</h3> <ol><li>引入<code>react</code>和<code>react-dom</code>两个 js 文件;</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./node_modules/react/umd/react.development.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./node_modules/react-dom/umd/react-dom.development.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>创建<code>React</code>元素；</li> <li>渲染React元素到页面中;</li></ol> <div class="language-Js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 指定要渲染的范围；</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;root&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span> 
    <span class="token comment">// React.createElement()方法用于创建react元素；</span>
    <span class="token comment">// - 返回值：React元素</span>
    <span class="token comment">// - 第一个参数：要创建的React元素名称</span>
    <span class="token comment">// - 第二个参数：该React元素的属性</span>
    <span class="token comment">// - 第三个及其以后的参数：该React元素的子节点，节点也可以是标签</span>
    
    <span class="token keyword">const</span> h1 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'晚上好哈哈哈哈'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> span <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'李逵'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> p <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> className<span class="token operator">:</span> <span class="token string">'so'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'李白'</span><span class="token punctuation">,</span> span<span class="token punctuation">)</span>
    <span class="token keyword">const</span> div <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'我是div'</span><span class="token punctuation">,</span> p<span class="token punctuation">,</span> h1<span class="token punctuation">)</span>

    <span class="token comment">// ReactDOM.render() 说明</span>
    <span class="token comment">// - 返回值:React元素</span>
    <span class="token comment">// - 第一个参数：要渲染的React元素</span>
    <span class="token comment">// - 第二个参数：DOM对象，用于指定渲染到页面中的位置</span>
    ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>div<span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span> 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="react事件处理"><a href="#react事件处理" class="header-anchor">#</a> <code>React</code>事件处理；</h2> <h3 id="_1、事件绑定"><a href="#_1、事件绑定" class="header-anchor">#</a> 1、事件绑定；</h3> <ol><li>语法：on + 事件名称 = { 事件处理程序 }，比如：<code>onClick={() =&gt; {}}</code></li> <li>注意：React 事件采用小驼峰命名法，比如：<code>onMouseEnter</code>、<code>onFocus</code></li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 类组件事件绑定；</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
  <span class="token function">OnLick</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 阻止默认行为</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 阻止事件冒泡</span>
    event<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>OnLick <span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Fn</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Fn</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 函数组件事件绑定；</span>
<span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> <span class="token function-variable function">OnLick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token comment">// 事件对象</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> OnLick <span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">函数组件</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Index
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h3 id="_2、事件对象"><a href="#_2、事件对象" class="header-anchor">#</a> 2、事件对象；</h3> <ol><li><p>可以通过事件处理程序的默认参数获取到事件对象。</p></li> <li><p>React 中的事件对象叫做：合成事件（对象）。</p></li> <li><p>合成事件：兼容所有浏览器，无需担心跨浏览器兼容性问题。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'事件对象'</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span> 
<span class="token punctuation">}</span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.baidu.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">点我，不会跳转页面</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ol> <h3 id="_3、this指向问题"><a href="#_3、this指向问题" class="header-anchor">#</a> 3、<code>this</code>指向问题；</h3> <ol><li><p>利用<code>bind</code>修改<code>this</code>指向组件实例。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 类组件事件绑定；</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
    
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 使用bind方法绑定this</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>OnLick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">OnLick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 不改变this指向，不能以 this.num 的方式拿到 num 的值；</span>
  num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

  <span class="token function">OnLick</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>OnLick <span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Index
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></li> <li><p>利用箭头函数方法**(推荐)**;</p> <blockquote><p>注意：该语法是实验性语法，但是，由于babel的存在可以直接使用</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
  <span class="token comment">// 使用es6 箭头函数绑定this</span>
  <span class="token function-variable function">OnLick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>OnLick <span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">按钮</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Index
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ol> <h3 id="_4、状态组件"><a href="#_4、状态组件" class="header-anchor">#</a> 4、状态组件；</h3> <h4 id="_4-1-有状态组件"><a href="#_4-1-有状态组件" class="header-anchor">#</a> 4.1 有状态组件；</h4> <blockquote><p>类组件class-&gt;有状态<code>（state）</code>组件;</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 * 定义类组件状态
 * 语法：state
 * 1. constructor()中
 * 2. 类属性形式定义
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    
  <span class="token comment">//constructor() {</span>
  <span class="token comment">//  super();</span>
  <span class="token comment">//  初始化 state </span>
  <span class="token comment">//  this.state = {</span>
  <span class="token comment">//    num: 123</span>
  <span class="token comment">//  }</span>
  <span class="token comment">//}</span>
    
  <span class="token comment">// 初始化 state</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'李晨'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
    
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
     // &lt;p&gt;{this.state.num}&lt;/p&gt;
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Index<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h4 id="_4-2-无状态组件"><a href="#_4-2-无状态组件" class="header-anchor">#</a> 4.2 无状态组件；</h4> <ul><li>函数组件-&gt;无状态组件</li></ul> <h4 id="_4-1-两者的区别"><a href="#_4-1-两者的区别" class="header-anchor">#</a> 4.1 两者的区别；</h4> <ul><li>函数组件又叫做无状态组件，类组件又叫做有状态组件</li> <li>状态（state）即数据，某个时刻的值</li> <li>类组件有自己的状态，负责更新 UI，让页面“动” 起来</li> <li>函数组件没有自己的状态，只负责数据展示（静）</li> <li>比如计数器案例中，点击按钮让数值加 1 。0 和 1 就是不同时刻的状态，而由 0 变为 1 就表示状态发生了变 化。状态变化后，UI 也要相应的更新。React 中想要实现该功能，就要使用有状态组件来完成。</li></ul> <h2 id="表单处理"><a href="#表单处理" class="header-anchor">#</a> 表单处理；</h2> <h3 id="_1、受控组件"><a href="#_1、受控组件" class="header-anchor">#</a> 1、受控组件；</h3> <blockquote><p>概述：其值受到 <code>state</code>状态控制的组件；</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">-</span> <span class="token constant">HTML</span> 中的表单元素是可输入的，也就是有自己的可变状态 。
<span class="token operator">-</span> 而React 中可变状态通常保存在 state 中，并且只能通过 <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法来修改 。
<span class="token operator">-</span> React将 state 与表单元素值value绑定到一起，由 state 的值来控制表单元素的值 。
<span class="token operator">-</span> 受控组件：其值受到 React 控制的表单元素 。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// 数据初始化</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    val<span class="token operator">:</span> <span class="token string">'345'</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">setInputVal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 通过 setState 修改 状态数据的值；</span>
    <span class="token comment">// 注意：只能通过这种方式修改；</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      val<span class="token operator">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        // 将 value 值绑定到 状态值上面；
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>val <span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>setInputVal <span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Index

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_2、非受控组件"><a href="#_2、非受控组件" class="header-anchor">#</a> 2、非受控组件；</h3> <ul><li><p>说明：借助于 ref，使用原生 DOM 方式来获取表单元素值 。</p></li> <li><p>ref 的作用：获取 DOM 或组件实例 。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
  <span class="token comment">// 创建React 对象；如果要获取多个Dom元素则要创建多个对象；</span>
  texRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  txRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function-variable function">setInputVal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取文本数据；</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>texRef<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>txRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>texRef <span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>134<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>setInputVal <span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>txRef <span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>setInputVal <span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
         </span><span class="token punctuation">{</span><span class="token comment">/* // 函数组件不能绑定ref对象
        &lt;Fnc ref={this.fnRef} /&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Index

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><blockquote><p>注意：不能在函数<strong>组件上</strong>使用 ref，因为它没有实例。不要过度使用Refs。</p></blockquote></li></ul> <h2 id="组件通讯"><a href="#组件通讯" class="header-anchor">#</a> 组件通讯；</h2> <blockquote><p>组件是独立且封闭的单元，默认情况下，只能使用组件自己的数据。在组件化过程中，我们将一个完整的功能 拆分成多个组件，以更好的完成整个应用的功能。而在这个过程中，多个组件之间不可避免的要共享某些数据 。为了实现这些功能，就需要打破组件的独立封闭性，让其与外界沟通。这个过程就是组件通讯。</p></blockquote> <h3 id="_1、props的介绍"><a href="#_1、props的介绍" class="header-anchor">#</a> 1、<code>props</code>的介绍;</h3> <ul><li>组件是封闭的，要接收外部数据应该通过 props 来实现。</li> <li>props的作用：接收传递给组件的数据 。</li> <li>传递数据的方式：给组件标签添加属性  。</li> <li>接收数据：函数组件通过参数<code>props</code>接收数据，类组件通过<code>this.props</code>接收数据 。</li></ul> <p><img src="/assets/img/1577609747566.9896b62f.png" alt="1577609747566"></p> <h3 id="_2、props特点"><a href="#_2、props特点" class="header-anchor">#</a> 2、<code>props</code>特点；</h3> <ol><li><p>可以给组件传递<strong>任意</strong>类型的数据 。</p></li> <li><p>props 是<strong>只读</strong>的对象，只能读取属性的值，<strong>无法修改</strong>对象 。</p></li> <li><p><code>children</code>属性：当组件标签有子节点时，props 就会有该属性；</p> <ul><li><p>值可以是任意值（文本、React元素、组件，甚至是函数）。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Son</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>lastname<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">传递数据给子组件</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Son</span></span><span class="token punctuation">&gt;</span></span>
 
 <span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span> <span class="token comment">// {name: &quot;我是父组件&quot;, children: &quot;传递数据给子组件&quot;}</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">类组件接收到数据了：</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li></ul> <blockquote><p>注意：使用类组件时，如果写了构造函数，应该将 props 传递给 super()，否则，无法在构造函数中获取到 props！</p></blockquote></li></ol> <p><img src="/assets/img/1577609982259.f3ef5037.png" alt="1577609982259"></p> <h3 id="_3、props效验"><a href="#_3、props效验" class="header-anchor">#</a> 3、<code>props</code>效验；</h3> <blockquote><p><strong>说明</strong>：对于子组件来说，props 是接收外来数据的，无法确定父组件在使用子组件时传入什么格式的数据如果传入的数据格式不对，可能会导致组件内部报错 ；</p> <p><strong>关键问题</strong>：组件的使用者（子）不知道明确的错误原因 ；</p></blockquote> <ol><li>props 校验：允许在创建组件的时候，就指定 props 的类型、格式等 。</li> <li>作用：用于捕获，在使用组件时因为props的类型而导致的错误，用于给出明确的错误提示。</li></ol> <h4 id="_3-1、步骤"><a href="#_3-1、步骤" class="header-anchor">#</a> 3.1、步骤；</h4> <ol><li><p>安装包 prop-types （yarn add prop-types / npm i props-types）</p></li> <li><p>导入 prop-types 包 。</p></li> <li><p>使用组件名.propTypes = {} 来给组件的props添加校验类型。</p></li> <li><p>校验类型通过 PropTypes 对象来指定 。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span><span class="token punctuation">;</span>

<span class="token comment">//子组件</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">子组件</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 校验</span>
Child<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span>
  obj<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span><span class="token function">shape</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
      a<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span>
      b<span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>bool
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 设置默认值</span>
Child<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'李晨'</span>
<span class="token punctuation">}</span>

<span class="token comment">// 父组件 </span>
<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>

  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    obj<span class="token operator">:</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Props深入</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Child</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">'范冰冰'</span><span class="token punctuation">}</span></span> <span class="token attr-name">obj</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>obj<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Index<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div></li> <li><p>注意：</p> <ol><li><p>常见类型：array、bool、func、number、object、string</p></li> <li><p>React元素类型：element</p></li> <li><p>必填项：isRequired</p></li> <li><p>特定结构的对象：shape({  })</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Child.propTypes = { 
  obj: PropTypes.shape(
    {
      a: PropTypes.number,
      b: PropTypes.bool
    }
  )
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol></li></ol> <h3 id="_4、父传子"><a href="#_4、父传子" class="header-anchor">#</a> 4、父传子；</h3> <ol><li>父组件提供要传递的state数据 。</li> <li>给子组件标签添加属性，值为 state 中的数据 。</li> <li>子组件中通过 props 接收父组件中传递的数据 。</li> <li><code>props</code>接收的数据是只读的，不能修改。</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token comment">/**
 * 父组件
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    lastname<span class="token operator">:</span> <span class="token string">'我是父组件'</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">我是h1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* 给子组件标签添加属性，值为 state 中的数据  */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Son</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>lastname<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">传递数据给子组件</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Son</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 子组件：函数组件；
 * 默认形参接收父组件传过来的参数
 */</span>
<span class="token comment">// function Son(props) {</span>
<span class="token comment">//   console.log(props)</span>
<span class="token comment">//   return (</span>
<span class="token comment">//     &lt;div&gt;</span>
<span class="token comment">//       &lt;h2&gt;子组件接收到数据了：{ props.name }&lt;/h2&gt;</span>
<span class="token comment">//     &lt;/div&gt;</span>
<span class="token comment">//   )</span>
<span class="token comment">// }</span>

<span class="token comment">/**
 * 子组件：类组件
 * 类组件通过 this.props接收
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">类组件接收到数据了：</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">类组件接收到数据了：</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Father

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><h3 id="_4、子传父"><a href="#_4、子传父" class="header-anchor">#</a> 4、子传父；</h3> <ol><li>父组件提供一个回调函数（用于接收数据）。</li> <li>将该函数作为属性的值，传递给子组件 。</li> <li>子组件通过 props 调用回调函数 。</li> <li>将子组件的数据作为参数传递给回调函数 。</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 子组件
 * 一般情况下，函数组件只用来接收数据使用，
 * 里面的数据都是静态的，不可修改
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">Fnc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 接收父组件传过来的值；</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> fn <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">let</span> abc <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

  <span class="token comment">// 改变abc</span>
  <span class="token keyword">function</span> <span class="token function">setAbc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 值修改了。但是视图没有更新；</span>
      abc <span class="token operator">=</span> <span class="token number">1000000</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>abc<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1000000</span>
    <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">子组件</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>abc<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* 调用函数，并传递参数 */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">fn</span><span class="token punctuation">(</span>abc<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">子传父</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span> setAbc <span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">改变abc的值</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 父组件：</span>
<span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 静态属性；</span>
  a <span class="token operator">=</span> <span class="token number">17770</span><span class="token punctuation">;</span>

  <span class="token function-variable function">getChildData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'接收子组件传递的数据：'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 静态属性的值修改了。但是视图没有更新；</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">56</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// 56</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">子传父</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>a <span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* 传递给子组件 */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Fnc</span></span> <span class="token attr-name">fn</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>getChildData<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Parent<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div><h3 id="_5、兄弟传值"><a href="#_5、兄弟传值" class="header-anchor">#</a> 5、兄弟传值；</h3> <blockquote><p>思想：<strong>状态提升</strong>  :  把 A 和 B 共同的<code>state</code>放到父组件中维护。</p></blockquote> <ol><li>将共享状态提升到最近的公共父组件中，由公共父组件管理这个状态 。</li> <li>公共父组件职责：1. 提供共享状态 2. 提供操作共享状态的方法 。</li> <li>要通讯的子组件只需通过 props 接收状态或操作状态的方法 。</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 兄弟组件通信思想：
 * 共享-状态-提升
 */</span>
<span class="token comment">// 两个兄弟组件</span>
<span class="token keyword">class</span> <span class="token class-name">BroA</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span>fn<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>marginRight<span class="token operator">:</span> <span class="token string">'20px'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">BroA</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>fn<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">改变共享数据</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">BroB</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span>own<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">BroB</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">兄弟组件B：</span><span class="token punctuation">{</span>own<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">// 最近的共同父组件</span>
<span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// 状态提升的共享数据</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    own<span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 修改状态提升数据的方法</span>
  <span class="token function-variable function">changeOwn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      own<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>own <span class="token operator">+</span> <span class="token number">10</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">父组件</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">父组件own:</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>own<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>display<span class="token operator">:</span> <span class="token string">'flex'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">BroA</span></span> <span class="token attr-name">fn</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeOwn<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">BroB</span></span> <span class="token attr-name">own</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>own<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Index<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><h2 id="react路由"><a href="#react路由" class="header-anchor">#</a> <code>React</code>路由;</h2> <blockquote><p>使用<code>React</code>路由简单来说，就是配置路径和组件（配对）</p> <p>安装：<code>$ npm i react-router-dom</code></p></blockquote> <h3 id="_1、路由的三种基本组件"><a href="#_1、路由的三种基本组件" class="header-anchor">#</a> 1、路由的三种基本组件：</h3> <ol><li>路由组件（router components）</li> <li>路由匹配组件（route matching components）</li> <li>导航组件（navigation components）</li></ol> <h4 id="_1、路由组件"><a href="#_1、路由组件" class="header-anchor">#</a> 1、路由组件；</h4> <blockquote><p><code>react-router-dom</code> 提供了<code>&lt;BrowserRouter&gt;</code>(<strong>推荐</strong>)和<code>&lt;HashRouter&gt;</code>两种路由组件。</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token comment">// 作为根组件将其包裹起来；</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">BrowserRouter</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">BrowserRouter</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span>
	document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_2、路由匹配组件"><a href="#_2、路由匹配组件" class="header-anchor">#</a> 2、路由匹配组件；</h4> <blockquote><p>有两个路由匹配组件： <code>&lt;Route&gt;</code> 和 <code>&lt;Switch&gt;</code>。</p></blockquote> <ol><li><p>通过<code>&lt;Route&gt;</code>组件的<code>path</code>属性匹配当前地址，当匹配成功时就渲染<code>component</code>属性指定的组件。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Route<span class="token punctuation">,</span> Switch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
<span class="token comment">// 当前路径是'/about'</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/about<span class="token punctuation">'</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">// 匹配成功时渲染</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/contact<span class="token punctuation">'</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Contact<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">// 不渲染</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Always<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">// 始终渲染</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>可选组件<code>&lt;Switch&gt;</code>会遍历其所有的子 <code>&lt;Route&gt;</code> 元素，并仅渲染与当前地址匹配的<strong>第一个</strong>元素，例如可以实现没有匹配到路由显示一个404的组件。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Route<span class="token punctuation">,</span> Switch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 当前路径是'/about'</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span><span class="token comment">/* 由于react路由的匹配模式为模糊匹配，所以当没有 exact 时 Home 组件会始终渲染 */</span><span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/contact<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Contact<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token punctuation">{</span><span class="token comment">/* 当什么都没匹配到时，&lt;NoMatch&gt; 组件将会渲染 */</span><span class="token punctuation">}</span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>NoMatch<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ol> <h4 id="_3、导航组件"><a href="#_3、导航组件" class="header-anchor">#</a> 3、导航组件；</h4> <blockquote><p>两个主要的导航组件：<code>&lt;Link&gt;</code> 和<code>&lt;NavLink&gt;</code> 。</p></blockquote> <ol><li><p><code>React Router</code>提供了一个 <code>&lt;Link&gt;</code> 组件来在你的应用程序中创建链接，渲染后为<code>html</code>的<code>&lt;a&gt;</code>标签。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Home</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>其中<code>&lt;NavLink&gt;</code> 是一种特殊类型的<code>&lt;Link&gt;</code>， 当它的 <code>to</code> 属性与当前地址匹配时，可以自动为其添加<code>active</code>的状态。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 当路径是 '/react '时</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/react<span class="token punctuation">&quot;</span></span> <span class="token attr-name">activeClassName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  React
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">NavLink</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Link<span class="token punctuation">,</span> Switch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token comment">// 1. 安装：npm i react-router-dom</span>
<span class="token comment">// 2. 导入路由的三个核心组件：Router / Route / Link</span>
<span class="token comment">// 3. 使用 Router 组件包裹整个应用（重要）</span>
<span class="token comment">// 4. 使用 Link 组件作为导航菜单（路由入口）</span>
<span class="token comment">// 5. 使用 Route 组件配置路由规则和要展示的组件（路由出口）</span>

<span class="token comment">// 其它视图的组件</span>
<span class="token keyword">const</span> <span class="token function-variable function">About</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">关于我们</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">Contact</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">联系我</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span>

<span class="token comment">// 根组件</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Router</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span><span class="token comment">/* 路由导航 */</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">关于我们</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/contact<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">联系我</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* 配置路由 */</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/contact<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Contact<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Router</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><blockquote><p>注意事项：</p> <ul><li><code>Router</code>组件：包裹整个应用，一个 React 应用只需要<strong>使用一次</strong> 。</li></ul> <ul><li>Route、Link组件：<strong>必须</strong>在Router 组件<strong>内部</strong>。</li></ul></blockquote> <h3 id="_2、动态路由和404页面"><a href="#_2、动态路由和404页面" class="header-anchor">#</a> 2、动态路由和404页面；</h3> <ol><li><p>动态路由配置；</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token punctuation">{</span><span class="token comment">/* 动态组件配置 */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about/:id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>404页面配置；</p> <ol><li>结合<code>Switch</code>组件；</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Router</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">关于我们</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/contact<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">联系我</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token comment">/* 配置路由 */</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/contact<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Contact<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span><span class="token comment">/* 当什么都没有匹配到时 显示 FourComponent 组件 */</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>FourComponent<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Router</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ol> <h3 id="_3、默认路由"><a href="#_3、默认路由" class="header-anchor">#</a> 3、默认路由；</h3> <blockquote><p>默认路由：表示进入页面时就会匹配的路由 ;</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>注意：需配合<code>exact</code>属性开启路由的精确匹配模式;</p></blockquote> <h3 id="_4、编程式导航"><a href="#_4、编程式导航" class="header-anchor">#</a> 4、编程式导航；</h3> <blockquote><p>编程式导航：通过<code>JS</code>代码来实现页面跳转。</p></blockquote> <ol><li><p>通过组件的<code>props</code>的<code>history</code>属性获取：</p> <ul><li><p>只有通过<code>Route</code>组件配置后才有<code>history</code>属性；</p></li> <li><p>push(path)：跳转到某个页面，参数 path 表示要跳转的路径 。</p></li> <li><p>go(n)： 前进或后退到某个页面，参数 n 表示前进或后退页面数量（比如：-1 表示后退到上一页，为 0 或不传则为当前页） 。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span> 
  <span class="token function-variable function">handleLogin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token comment">// ... </span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/home'</span><span class="token punctuation">)</span> <span class="token comment">// 要跳转的组件；</span>
  <span class="token punctuation">}</span> 
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span>省略其他代码<span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul></li> <li><p>动态路由的参数获取：</p> <ul><li><p>通过组件的<code>props</code>的<code>match</code>属性获取：</p> <ul><li><p><code>match.params</code>：获取动态路由的参数值。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params <span class="token comment">// 包含着动态路由的参数值的集合；</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li></ul></li></ol> <h3 id="_5、匹配模式"><a href="#_5、匹配模式" class="header-anchor">#</a> 5、匹配模式；</h3> <blockquote><p>默认情况下，<code>React</code>路由是模糊匹配模式 。</p> <p>给 Route 组件添加 exact 属性，让其变为精确匹配模式 。</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 此时，该组件只能匹配 “/” 这一种情况 </span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>...</span> <span class="token punctuation">/&gt;</span></span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_6、二级路由的配置"><a href="#_6、二级路由的配置" class="header-anchor">#</a> 6、二级路由的配置；</h3> <ul><li><p>在匹配到的一级路由组件中继续使用<code>Link</code>和<code>Route</code>。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 联系我</span>
<span class="token comment">//二级路由组件</span>
<span class="token keyword">const</span> <span class="token function-variable function">FnTwo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">我是二级路由</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">Contact</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">联系我</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token comment">/* 配置联系我的二级路由 */</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/contact/two<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">联系我的下级</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/contact/two<span class="token punctuation">'</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>FnTwo<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 根组件</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Router</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span><span class="token comment">/* 一级路由导航和组件 */</span><span class="token punctuation">}</span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/contact<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> 跟组件 </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>link</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">    
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/contact<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Contact<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Router</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div></li></ul> <h3 id="_7、路由重定向"><a href="#_7、路由重定向" class="header-anchor">#</a> 7、路由重定向；</h3> <blockquote><p>使用场景：页面一打开或手动修改路径都会默认跳转到同一个页面；</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 引入组件；</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Redirect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token comment">// 使用组件；并配合 exact 进行精确定位；</span>
<span class="token operator">&lt;</span>Redirect exact from<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> to<span class="token operator">=</span><span class="token string">&quot;/home&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_8、自定义route"><a href="#_8、自定义route" class="header-anchor">#</a> 8、自定义<code>route</code>;</h3> <ul><li><p>系统鉴权应用场景；</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">Auth</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> path<span class="token punctuation">,</span> component<span class="token operator">:</span> Component<span class="token punctuation">,</span> history <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> token <span class="token operator">=</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'auth'</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token punctuation">{</span>path<span class="token punctuation">}</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Component</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'请登录！'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Redirect</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/login<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 路由配置；</span>
<span class="token punctuation">{</span><span class="token comment">/* &lt;Route path=&quot;/&quot; exact component={Home} /&gt; */</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token comment">/* 需要鉴权访问 */</span><span class="token punctuation">}</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Redirect</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Auth</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/home<span class="token punctuation">'</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ul> <h3 id="_9、withrouter高阶组件"><a href="#_9、withrouter高阶组件" class="header-anchor">#</a> 9、<code>withRouter</code>高阶组件;</h3> <blockquote><p>让一个组件的<code>props</code>增加了一些路由属性和方法：history、match、location。</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> withRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span>
<span class="token keyword">const</span> 新组件 <span class="token operator">=</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>旧组件<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="组件性能优化"><a href="#组件性能优化" class="header-anchor">#</a> 组件性能优化；</h2> <h3 id="_1、轻量化state"><a href="#_1、轻量化state" class="header-anchor">#</a> 1、轻量化<code>state</code>;</h3> <ol><li><p>轻量 state：只存储跟组件渲染相关的数据（比如：count / 列表数据 / loading 等） 。</p></li> <li><p>注意：不用做渲染的数据不要放在 state 中，比如定时器 id等 。</p></li> <li><p>对于这种需要在多个方法中用到的数据，应该放在 this 中 。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>   
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     
    <span class="token comment">// timerId存储到this中，而不是state中     </span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>timerId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>   
  <span class="token punctuation">}</span>  
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timerId<span class="token punctuation">)</span> 
  <span class="token punctuation">}</span>   
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> … <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li></ol> <h3 id="_2、减少不必要的重新渲染"><a href="#_2、减少不必要的重新渲染" class="header-anchor">#</a> 2、减少不必要的重新渲染；</h3> <ol><li><p>组件更新机制：父组件更新会引起子组件也被更新。</p></li> <li><p>问题：子组件没有任何变化时也会重新渲染 。</p></li> <li><p>如何避免不必要的重新渲染呢？</p></li> <li><p>解决方式：使用钩子函数 <strong>shouldComponentUpdate(nextProps, nextState)</strong></p></li> <li><p>作用：通过返回值决定该组件是否重新渲染，返回 true 表示重新渲染，false 表示不重新渲染</p></li> <li><p>触发时机：更新阶段的钩子函数，组件重新渲染前执行 （shouldComponentUpdate -&gt; render）</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span> 
  <span class="token comment">// 根据条件，决定是否重新渲染组件</span>
  <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> nextState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       
 		<span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token operator">...</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span> 
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>…<span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ol> <h3 id="_3、纯组件"><a href="#_3、纯组件" class="header-anchor">#</a> 3、纯组件；</h3> <ol><li><p>纯组件：PureComponent  与 React.Component 功能相似</p></li> <li><p>区别：PureComponent 内部自动实现了 shouldComponentUpdate 钩子，不需要手动比较 。</p></li> <li><p>原理：纯组件内部通过分别 对比 前后两次 props 和 state 的值，来决定是否重新渲染组件 。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>   
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">return</span> <span class="token punctuation">(</span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">纯组件</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>     
    <span class="token punctuation">)</span>   
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ol> <blockquote><p>注意：</p> <ol><li>对于值类型来说：比较两个值是否相同直接赋值即可。</li> <li>对于引用类型来说：<strong>只比较对象的引用（地址）是否相同</strong>。
<ul><li>解决：应该创建新数据，不要直接修改原数据！</li></ul></li></ol></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 正确！创建新数据 </span>
<span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>state<span class="token punctuation">.</span>obj<span class="token punctuation">,</span> number<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span> 
<span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> obj<span class="token operator">:</span> newObj <span class="token punctuation">}</span><span class="token punctuation">)</span> 
 
<span class="token comment">// 正确！创建新数据 </span>
<span class="token comment">// 不要用数组的push / unshift 等直接修改当前数组的的方法 </span>
<span class="token comment">// 而应该用 concat 或 slice 等这些返回新数组的方法 </span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
  list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">,</span> <span class="token punctuation">{</span>新数据<span class="token punctuation">}</span><span class="token punctuation">]</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="虚拟dom"><a href="#虚拟dom" class="header-anchor">#</a> 虚拟DOM；</h2> <blockquote><p>React 更新视图的思想是：<strong>只要 state 变化就重新渲染视图</strong> 。</p> <p>问题：组件中只有一个 DOM 元素需要更新时，整个组件的内容也会重新渲染到页面中</p> <p>理想状态：部分更新 =&gt; 只更新变化的地方。</p></blockquote> <ol><li>虚拟 DOM：本质上就是一个<code>JS</code>对象。</li> <li>在数据和真实 DOM 之间<strong>建立了一层缓冲区</strong>。</li></ol> <h3 id="_1、执行过程"><a href="#_1、执行过程" class="header-anchor">#</a> 1、执行过程；</h3> <ol><li>初次渲染时，React 会根据初始<code>state</code>结合<code>jsx</code>元素结构，创建一个虚拟DOM对象（树）。</li> <li>根据虚拟 DOM 生成真正的 DOM，渲染到页面中。</li> <li>当数据<strong>变化后</strong>（setState()），重新根据新的数据，<strong>创建新的虚拟DOM对象</strong>（树）。</li> <li>与上一次得到的虚拟 DOM 对象，使用 <strong>Diff 算法</strong> 对比，得到需要更新的内容。</li> <li>最终，React 只将变化的内容更新到 DOM 中，重新渲染页面。</li></ol> <h3 id="_2、diff算法说明"><a href="#_2、diff算法说明" class="header-anchor">#</a> 2、<code>Diff</code>算法说明;</h3> <blockquote><p><strong>一、元素类型</strong>：如果两棵树的根元素类型不同，React 会销毁旧树，创建新树.</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 旧树</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Counter</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// 新树</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Counter</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>

执行过程：destory all <span class="token operator">-</span><span class="token operator">&gt;</span> insert <span class="token keyword">new</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p><strong>二、元素属性</strong>：</p> <ul><li>对于类型相同的 React DOM 元素，React 会对比两者的属性是否相同，只更新不同的属性</li> <li>当处理完这个 DOM 节点，React 就会递归处理子节点。</li></ul></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 旧</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>before<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stuff<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">// 新</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>after<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stuff<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
只更新：className 属性

<span class="token comment">// 旧</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> fontWeight<span class="token operator">:</span> <span class="token string">'bold'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">// 新</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token operator">:</span> <span class="token string">'green'</span><span class="token punctuation">,</span> fontWeight<span class="token operator">:</span> <span class="token string">'bold'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
只更新：color属性
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p><strong>三、修改元素</strong>：</p> <ol><li>当在子节点的后面添加一个节点，这时候两棵树的转化工作执行的很好。</li> <li>但是如果你在开始位置插入一个元素，那么问题就来了；</li></ol></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 旧</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">2</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// 新</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">3</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> // 一次  1-&gt;3
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> // 一次  2-&gt;1
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">2</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> // 新增一次
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

执行过程：
React将改变每一个子节点，而非保持 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> 和 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">2</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span> 不变
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>解决；</strong></p> <blockquote><p>React 提供了一个 key 属性。当子节点带有 key 属性，React 会通过 key 来匹配原始树和后来的树。</p></blockquote> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 旧</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2015<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2016<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">2</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// 新</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2014<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">3</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">  // 添加
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2015<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">  
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2016<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">2</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">  
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

执行过程：
现在 React 知道带有key <span class="token string">'2014'</span> 的元素是新的，对于 <span class="token string">'2015'</span> 和 <span class="token string">'2016'</span> 仅仅移动位置即可
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><ul><li>说明：key 属性在 React 内部使用，但不会传递给你的组件。</li> <li>推荐：在遍历数据时，推荐在组件中使用 key 属性：<code>&lt;li key={item.id}&gt;{item.name}&lt;/li&gt;</code></li> <li>注意：<strong>key 只需要保持与他的兄弟节点唯一即可，不需要全局唯一。</strong></li> <li>注意：<strong>尽可能的减少数组 index 作为 key，数组中插入元素的等操作时，会使得效率底下</strong>。</li></ul></blockquote></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">上次编辑于:</span> <span class="info">2022年11月8日 00:22</span></div> <!----></footer> <!----> <!----> <!----> <div class="content__page-bottom"></div></main> <footer class="footer-wrapper"><div class="media-links-wrapper"><a href="https://github.com/wyw-s/documents" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a></div> <div class="footer"><a href="https://beian.miit.gov.cn/" target="_blank">浙ICP备20028697号-2</a></div> <div class="copyright">Copyright © 2022 Mr. Yahweh</div></footer></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="关闭" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">该应用可以安装在您的 PC 或移动设备上。这将使该 Web 应用程序外观和行为与其他应用程序相同。它将在出现在应用程序列表中，并可以固定到主屏幕，开始菜单或任务栏。此 Web 应用程序还将能够与其他应用程序和您的操作系统安全地进行交互。</p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>详情</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        安装 <span></span></button> <button class="cancel-button">
        取消
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.8001480a.js" defer></script><script src="/assets/js/vendors~layout-Layout.6e1a735a.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.0332e022.js" defer></script><script src="/assets/js/page-react基础语法.f4b34bc4.js" defer></script>
  </body>
</html>
