---
title: 总结
category: vue
autoGroup-15: 服务器端渲染
date: 2021-09-11 20:20:23
---

通过srr的一个简单demo,梳理下vue-srr使用的心得，整个流程体验完后，感觉和直接写客户端代码没太大区别，大致流程是：

1. srr需要node服务，所以需要有一个启动文件写后端代码，用来托管静态资源和响应html内容；
2. webpack需要打包出两份文件，一个用于服务端一个用于客户端；
3. 整合vueRouter和vuex；
4. 数据的预处理；

需要注意的点：

1. vue、vuex、vuerouter都需要返回一个工厂函数，因为用户会有多个，每个用户访问的页面都不相同，所以路由及数据需要独立存在；
2. 异步数据预处理；

特点：

- vue的ssr只是在首屏渲染的时候用到，之后再切换页面就是spa了；而且是交互的页面(有点击事件等)
- 异步数据的同步，通过预处理可以让服务端获取的数据同步到客户端，达到数据的一致性；

